var Ye=Object.defineProperty,Le=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var he=(u,e,n)=>e in u?Ye(u,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[e]=n,M=(u,e)=>{for(var n in e||(e={}))je.call(e,n)&&he(u,n,e[n]);if(Be)for(var n of Be(e))Je.call(e,n)&&he(u,n,e[n]);return u},U=(u,e)=>Le(u,We(e));import{B as ee,W as te,h as Ge,m as Ze,a as g,C as ae,u as L,g as oe,i as pe,d as k,r as x,c as le,o as se,b as f,e as I,f as b,t as Q,j as P,k as t,w as o,l as H,n as A,R as be,S as Qe,U as we,E as ye,p as w,q as V,s as T,_ as De,v as Xe,x as et,y as tt,F as ge,z as _e,A as me,D as ut,T as nt,K as at,H as ot,G as lt,I as st,J as rt,L as ct,M as Ce,N as dt,O as it,P as pt,Q as _t,V as mt}from"./vendor.820a2b16.js";const ft=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const B of a)if(B.type==="childList")for(const l of B.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const B={};return a.integrity&&(B.integrity=a.integrity),a.referrerpolicy&&(B.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?B.credentials="include":a.crossorigin==="anonymous"?B.credentials="omit":B.credentials="same-origin",B}function s(a){if(a.ep)return;a.ep=!0;const B=n(a);fetch(a.href,B)}};ft();const Ae=[{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"}],Se=[{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],re="0x64f9f2024388ef1f318fbe2d0321c51957151263",Ee="0xae13d989dac2f0debff460ac112a837c89baa7cd",Te="0x9ac64cc6e4415144c455bd8e4837fea55603e5c3",ce="https://data-seed-prebsc-1-s1.binance.org:8545/",Ft=u=>{try{Ze(u)}catch{return!1}return!0},vt=u=>{try{return Ft(u)?Ge.sha256().update(u).digest("hex").substr(0,16):""}catch{return""}},Ne="STRAYINU_TOOLS_STORE",ke=u=>{try{localStorage[Ne]=JSON.stringify(u)}catch{}},xe=()=>{try{return JSON.parse(localStorage[Ne])}catch{return{}}},Ve=u=>{let e=Math.floor(u/100),n=u%100;return`m/44'/60'/0'/${e}/${n}`},$e=(u,e)=>{const n=Ve(u);return te.fromMnemonic(e,n).address},Ie=(u,e,n=18)=>{let s=u;Number(s)<1?s=g.from(u*1e4).mul(g.from(10).pow(n)).div(g.from(1e4)):s=g.from(u).mul(g.from(10).pow(n));let a=[],B=g.from(e),l=g.from(10).pow(n<18?6:15);for(let c=0;c<e;c++)if(B.eq(g.from(g.from(1))))a.push(s);else{let d=s.div(B).mul(2),_=g.from(new Date().getTime()).mul(l).mod(d);_.lte(l)&&(_=l),B=B.sub(g.from(1)),s=s.sub(_),a.push(_)}return a},Me=u=>{let e=u;return e!==void 0&&(e=Number(e).toLocaleString("cn",{minimumFractionDigits:2,maximumFractionDigits:6})),e||""};new ee(0);new ee(1);new ee(9);const Bt=new ee(10),ht=(u,e=18)=>new ee(u).dividedBy(Bt.pow(e)),bt=(u,e=18)=>ht(u,e).toFixed(6),Ue=u=>u.split(" ").splice(0,3).join(" ")+" ... ...",wt=()=>{const u=new ae(re,Se),e=L(),n=e.state.currentAccount.addressMap,s=l=>{const{privateKey:c}=n[l];return new te(c,oe(ce))};return{contract:u,getBalance:async l=>{const{address:c}=n[l],d=s(l);return await u.connect(d).balanceOf(c)},transfer:async(l,c,d)=>{let _="";typeof c=="string"&&pe(c)?_=c:_=n[c]?n[c].address:$e(Number(c),e.state.currentAccount.mnemonic);const r=s(l),i=g.isBigNumber(d)?d:g.from(d).mul(g.from(10).pow(9));try{n[l].transFerpending=!0,n[l].transFerSuccess=0;const p=await u.connect(r).transfer(_,i).catch(v=>{console.error(v),n[l].transFerSuccess=2});n[l].transFerpending=!1,p&&(n[l].txHash=p==null?void 0:p.hash,n[l].transFerSuccess=1)}catch(p){console.error(p),n[l].transFerpending=!1,n[l].txHash=null,n[l].transFerSuccess=2}}}},fe=()=>{const u=new ae(Te,Ae),e=L(),n=e.state.currentAccount.addressMap,s=l=>{const{privateKey:c}=n[l],d=oe(ce);return new te(c,d)};return{contract:u,getWallet:s,swap:async(l,c)=>{const d=s(l),{address:_}=n[l],r=g.from(Math.floor(new Date().getTime()/1e3+86400)),i=[Ee,re];n[l].swapPending=!0;const p=g.from(Math.floor(c*1e4)).mul(g.from(10).pow(14));try{n[l].swapPending=!0,n[l].swapSuccess=0;const v=await u.connect(d).swapExactETHForTokens(0,i,_,r,{value:p}).catch(F=>{console.error(F),n[l].swapSuccess=2});n[l].swapPending=!1,v&&(n[l].swapHash=v==null?void 0:v.hash,n[l].swapSuccess=1)}catch(v){console.error(v),n[l].swapPending=!1,n[l].swapHash=null,n[l].swapSuccess=2}},transfer:async(l,c,d)=>{try{let _="";typeof c=="string"&&pe(c)?_=c:_=n[c]?n[c].address:$e(Number(c),e.state.currentAccount.mnemonic);const r=s(l),i=g.isBigNumber(d)?d:g.from(Math.floor(d*1e4)).mul(g.from(10).pow(14));n[l].transFerpending=!0,n[l].transFerSuccess=0;const p=await r.sendTransaction({to:_,value:i,chainId:r.getChainId()}).catch(v=>{console.error(v),n[l].transFerSuccess=2});n[l].transFerpending=!1,p&&(n[l].txHash=p==null?void 0:p.hash,n[l].transFerSuccess=1)}catch(_){console.error(_),n[l].transFerpending=!1,n[l].txHash=null,n[l].transFerSuccess=2}}}};var ue=(u,e)=>{for(const[n,s]of e)u[n]=s;return u};const yt={class:"balance"},Dt={key:0},gt=k({name:"Balance"});function Ct(u){const e=u,n=x(!1),{getWallet:s,swap:a}=fe(),B=s(e.data.id),l=async()=>{n.value=!0;const r=await B.getBalance();e.data.balance=bt(r.toString()),n.value=!1};let c=le(()=>e.data.balance);se(async()=>{e.data.balance===void 0&&await l()});const d=()=>{ye.prompt(`\u7F16\u53F7: ${e.data.id} \u4F59\u989D: ${c.value}`,"\u5151\u6362",{confirmButtonText:"\u5151\u6362",cancelButtonText:"\u53D6\u6D88",inputPlaceholder:"\u5151\u6362\u91D1\u989D\uFF0C\u6700\u591A4\u4F4D\u5C0F\u6570",beforeClose:async(r,i,p)=>{if(r==="confirm"){let v=Number(i.inputValue),F=Number(e.data.balance);if(!v)w.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");else if(v>F)w.error("\u4F59\u989D\u4E0D\u8DB3");else try{p(),await a(e.data.id,v)}catch(m){console.error(m),w.error("\u5151\u6362\u5931\u8D25")}}else p()}}).catch(()=>{})},_=()=>{e.openTrans(e.data.id,"BNB")};return(r,i)=>{const p=f("el-button"),v=f("el-tooltip");return A(),I("div",yt,[b(c)?(A(),I("p",Dt,Q(b(c)),1)):P("",!0),t(v,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:o(()=>[t(p,{icon:b(be),circle:"",loading:n.value,onClick:l,size:"mini"},null,8,["icon","loading"])]),_:1}),e.data.balance>0?(A(),H(v,{key:1,content:"\u5151\u6362",placement:"top"},{default:o(()=>[t(p,{icon:b(Qe),circle:"",onClick:d,size:"mini"},null,8,["icon"])]),_:1})):P("",!0),e.data.balance>0?(A(),H(v,{key:2,content:"\u8F6C\u8D26",placement:"top"},{default:o(()=>[t(p,{icon:b(we),circle:"",onClick:_,size:"mini"},null,8,["icon"])]),_:1})):P("",!0)])}}const At=k(U(M({},gt),{props:{data:null,openTrans:null},setup:Ct}));var St=ue(At,[["__scopeId","data-v-e0dcfbe4"]]);const Et=T("-"),Tt={class:"dialog-footer"},Nt=T("\u53D6\u6D88"),kt=T("\u786E\u5B9A"),xt=k({name:"TransferDialog"});function Vt(u){const e=u,s=L().state.currentAccount.addressMap,a=x({transferToken:"",transferAmount:"",from:"",to:"",startNo:"",endNo:""}),B=()=>{e.close(),a.value.transferToken="",a.value.transferAmount="",a.value.from="",a.value.to="",a.value.startNo="",a.value.endNo=""},l=async()=>{const{transferToken:c,transferAmount:d,from:_,startNo:r=1,endNo:i=2}=a.value;if(!c&&!d&&!_&&r&&!i){w.error("\u586B\u5199\u8F6C\u8D26\u4FE1\u606F");return}if(_==r){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(_==i){w.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(r<e.from){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.from);return}if(i>e.to){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.to);return}let p=i-r+1;const v=Ie(Number(d),p,c==="BNB"?18:9),{privateKey:F}=s[_],m=new ae(re,Se),N=new te(F,oe(ce));B();for(let y=r;y<=i;y++)s[y].transFerpending=!0,s[y].transFerSuccess=0;for(let y=0,O=v.length;y<O;y++){const h=r+y,{address:S}=s[h];if(c==="BNB")try{const E=await N.sendTransaction({to:S,value:v[y],chainId:97}).catch(()=>{s[h].transFerSuccess=2});s[h].transFerpending=!1,E&&(s[h].txHash=E==null?void 0:E.hash,s[h].transFerSuccess=1)}catch{s[h].transFerpending=!1,s[h].txHash=null,s[h].transFerSuccess=2}if(c==="STRAYINU")try{const E=await m.connect(N).transfer(S,v[y]).catch(()=>{s[h].transFerSuccess=2});s[h].transFerpending=!1,E&&(s[h].txHash=E==null?void 0:E.hash,s[h].transFerSuccess=1)}catch{s[h].transFerpending=!1,s[h].txHash=null,s[h].transFerSuccess=2}}};return(c,d)=>{const _=f("el-option"),r=f("el-select"),i=f("el-form-item"),p=f("el-input"),v=f("el-col"),F=f("el-form"),m=f("el-button"),N=f("el-dialog");return A(),H(N,{"before-close":B,modelValue:e.dialogvisible,"onUpdate:modelValue":d[5]||(d[5]=y=>e.dialogvisible=y),title:"\u6279\u91CF\u8F6C\u8D26",width:"42%"},{footer:o(()=>[V("span",Tt,[t(m,{onClick:B},{default:o(()=>[Nt]),_:1}),t(m,{type:"primary",onClick:l},{default:o(()=>[kt]),_:1})])]),default:o(()=>[t(F,{"label-position":"top","label-width":"100%",model:a.value},{default:o(()=>[t(i,{label:"\u9009\u62E9\u8F6C\u8D26\u7684Token",required:""},{default:o(()=>[t(r,{"fit-input-width":"",modelValue:a.value.transferToken,"onUpdate:modelValue":d[0]||(d[0]=y=>a.value.transferToken=y),placeholder:"\u9009\u62E9\u8F6C\u8D26\u5E01\u79CD"},{default:o(()=>[t(_,{label:"BNB",value:"BNB"}),t(_,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(i,{label:"\u8F6C\u8D26\u603B\u91CF",required:""},{default:o(()=>[t(p,{modelValue:a.value.transferAmount,"onUpdate:modelValue":d[1]||(d[1]=y=>a.value.transferAmount=y),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u603B\u91D1\u989D"},null,8,["modelValue"])]),_:1}),t(i,{label:"\u8F6C\u8D26\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(p,{modelValue:a.value.from,"onUpdate:modelValue":d[2]||(d[2]=y=>a.value.from=y),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u5730\u5740\u7F16\u53F7\uFF08\u4F8B\uFF1A\u8F93\u51650\u8868\u793A\u7528\u7B2C\u4E00\u4E2A\u5730\u5740\u8F6C\u8D26\uFF09"},null,8,["modelValue"])]),_:1}),t(i,{label:"\u6536\u5E10\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(v,{span:11},{default:o(()=>[t(p,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:a.value.startNo,"onUpdate:modelValue":d[3]||(d[3]=y=>a.value.startNo=y),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(v,{span:11},{default:o(()=>[Et]),_:1}),t(v,{span:11},{default:o(()=>[t(p,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:a.value.endNo,"onUpdate:modelValue":d[4]||(d[4]=y=>a.value.endNo=y),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const $t=k(U(M({},xt),{props:{close:null,dialogvisible:null,from:null,to:null},setup:Vt})),It=T("\xA0\xA0\xA0\xA0 "),Mt={class:"dialog-footer"},Ut=T("\u53D6\u6D88"),Rt=T("\u8F6C\u8D26"),Ot=k({name:"ModalTransferInline"});function Ht(u){const e=u,{transfer:n}=fe(),s=()=>{a()},a=()=>{e.close(),l.value={to:"",amount:""}},B=async()=>{var i,p,v,F,m;let d=Number(l.value.to),_=Number(l.value.amount),r=Number(((i=e.data)==null?void 0:i.token)==="BNB"?e.data.balance:e.data.strayInuBalance);if(!l.value.to){w.error("\u8BF7\u586B\u5199\u8F6C\u5165\u7F16\u53F7");return}if(d>1e4||d<0||Math.floor(d)!==d){w.error("\u7F16\u53F7\u8303\u56F40 ~ 10000");return}if(d===e.data.id){w.error("\u8F6C\u5165\u7F16\u53F7\u4E0D\u80FD\u548C\u5F53\u524D\u7F16\u53F7\u76F8\u540C");return}if(_<0||!_){w.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");return}if(_>r){w.error("\u4F59\u989D\u4E0D\u8DB3");return}((p=e.data)==null?void 0:p.token)==="StrayInu"?(a(),await e.strayInuTransfer((v=e.data)==null?void 0:v.id,d,Math.floor(_))):((F=e.data)==null?void 0:F.token)==="BNB"&&(a(),await n((m=e.data)==null?void 0:m.id,d,_))},l=x({to:"",amount:""}),c=le(()=>{var i,p,v,F,m,N;let d="0",_="\u8F6C\u8D26",r="\u8BF7\u8F93\u5165\u91D1\u989D";return((i=e.data)==null?void 0:i.token)==="BNB"?(d=((p=e.data)==null?void 0:p.balance)||"0",_=((v=e.data)==null?void 0:v.token)+"\u8F6C\u8D26",r="\u6700\u591A4\u4F4D\u5C0F\u6570"):((F=e.data)==null?void 0:F.token)==="StrayInu"&&(d=((m=e.data)==null?void 0:m.strayInuBalance)||"0",_=((N=e.data)==null?void 0:N.token)+"\u8F6C\u8D26",r="\u6574\u6570"),{balance:d,title:_,amountHolder:r}});return(d,_)=>{const r=f("el-form-item"),i=f("el-input"),p=f("el-form"),v=f("el-button"),F=f("el-dialog");return A(),H(F,{modelValue:e.data,"onUpdate:modelValue":_[2]||(_[2]=m=>e.data=m),"before-close":s,title:b(c).title,width:"480px"},{footer:o(()=>[V("span",Mt,[t(v,{onClick:a},{default:o(()=>[Ut]),_:1}),t(v,{type:"primary",onClick:B},{default:o(()=>[Rt]),_:1})])]),default:o(()=>[t(p,{model:l.value,"label-width":"100px"},{default:o(()=>[t(r,{label:"\u5F53\u524D\u7F16\u53F7"},{default:o(()=>{var m;return[V("span",null,Q((m=e.data)==null?void 0:m.id),1),It,V("span",null,"\u4F59\u989D\xA0\xA0"+Q(b(Me)(b(c).balance)),1)]}),_:1}),t(r,{label:"\u8F6C\u5165\u7F16\u53F7"},{default:o(()=>[t(i,{modelValue:l.value.to,"onUpdate:modelValue":_[0]||(_[0]=m=>l.value.to=m),placeholder:"0~10000\uFF0C\u6574\u6570",type:"number"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u8F6C\u8D26\u91D1\u989D"},{default:o(()=>[t(i,{modelValue:l.value.amount,"onUpdate:modelValue":_[1]||(_[1]=m=>l.value.amount=m),placeholder:b(c).amountHolder,type:"number"},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}const zt=k(U(M({},Ot),{props:{data:null,close:null,strayInuTransfer:null},setup:Ht})),Pt=T("-"),qt={class:"dialog-footer"},Kt=T("\u53D6\u6D88"),Yt=T("\u786E\u5B9A"),Lt=k({name:"dialogSwapShow"});function Wt(u){const e=u,s=L().state.currentAccount.addressMap,a=x({swapToken:"STRAYINU",swapAmount:"",startNo:"",endNo:""}),B=x(),l=()=>{e.close(),a.value.swapAmount="",a.value.startNo="",a.value.endNo=""},c=()=>{l()},d=async()=>{const{swapToken:_,swapAmount:r,startNo:i=0,endNo:p=0}=a.value;if(!_&&!r&&!i&&!p){w.error("\u586B\u5199\u5151\u6362\u4FE1\u606F");return}if(p==i){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u7ED3\u59CB\u5730\u5740\u7F16\u53F7");return}if(i<e.from){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.from);return}if(p>e.to){w.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.to);return}const v=Ie(r,p-i+1,18),F=new ae(Te,Ae);l();for(let m=i,N=0;m<=p;m++,N++){const{privateKey:y,address:O}=s[m],h=oe(ce),S=new te(y,h),E=g.from(Math.floor(new Date().getTime()/1e3+86400)),G=[Ee,re];s[m].swapPending=!0,s[m].transFerSuccess=0;try{const W=await F.connect(S).swapExactETHForTokens(0,G,O.slice(2),E,{value:v[N]}).catch(()=>{s[m].swapSuccess=2});s[m].swapPending=!1,W&&(s[m].swapHash=W==null?void 0:W.hash,s[m].swapSuccess=1)}catch{s[m].swapPending=!1,s[m].swapHash=null,s[m].swapSuccess=2}}};return(_,r)=>{const i=f("el-option"),p=f("el-select"),v=f("el-form-item"),F=f("el-input"),m=f("el-col"),N=f("el-form"),y=f("el-button"),O=f("el-dialog");return A(),H(O,{modelValue:e.dialogSwapShow,"onUpdate:modelValue":r[4]||(r[4]=h=>e.dialogSwapShow=h),"before-close":c,title:"\u6279\u91CF\u5151\u6362",width:"42%"},{footer:o(()=>[V("span",qt,[t(y,{onClick:l},{default:o(()=>[Kt]),_:1}),t(y,{type:`
          primary`,onClick:d},{default:o(()=>[Yt]),_:1})])]),default:o(()=>[t(N,{ref:(h,S)=>{S.editFrom=h,B.value=h},"label-position":"top","label-width":"100%",model:a.value},{default:o(()=>[t(v,{label:"\u9009\u62E9\u8981\u5151\u6362\u7684Token",required:""},{default:o(()=>[t(p,{"fit-input-width":"",modelValue:a.value.swapToken,"onUpdate:modelValue":r[0]||(r[0]=h=>a.value.swapToken=h),placeholder:"\u9009\u62E9Token"},{default:o(()=>[t(i,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"\u652F\u4ED8\u7684\u8F6C\u8D26\u91D1\u989D(BNB)",required:""},{default:o(()=>[t(F,{modelValue:a.value.swapAmount,"onUpdate:modelValue":r[1]||(r[1]=h=>a.value.swapAmount=h),placeholder:"\u8BF7\u8F93\u5165\u5151\u6362\u91D1\u989D(BNB)"},null,8,["modelValue"])]),_:1}),t(v,{label:"\u5151\u6362\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(m,{span:11},{default:o(()=>[t(F,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:a.value.startNo,"onUpdate:modelValue":r[2]||(r[2]=h=>a.value.startNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(m,{span:11},{default:o(()=>[Pt]),_:1}),t(m,{span:11},{default:o(()=>[t(F,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:a.value.endNo,"onUpdate:modelValue":r[3]||(r[3]=h=>a.value.endNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const jt=k(U(M({},Lt),{props:{close:null,dialogSwapShow:null,from:null,to:null},setup:Wt}));const Jt={class:"balance"},Gt={key:0},Zt=k({name:"StrayInuBalance"});function Qt(u){const e=u,n=x(!1),s=async()=>{n.value=!0;try{let c=await e.getBalance(e.data.id);e.data.strayInuBalance=c.div(g.from(10).pow(9)).toString()||"0",n.value=!1}catch{e.data.strayInuBalance="0",n.value=!1}};let a=le(()=>Me(e.data.strayInuBalance));se(async()=>{e.data.strayInuBalance===void 0&&await s()});const B=()=>{e.openTrans(e.data.id,"StrayInu")},l=le(()=>{var _,r;const c=Number(((_=e.data)==null?void 0:_.strayInuBalance)||0)>0,d=Number(((r=e.data)==null?void 0:r.balance)||0)>0;return{eSBlance:c,eBBlance:d}});return(c,d)=>{const _=f("el-button"),r=f("el-tooltip");return A(),I("div",Jt,[b(a)?(A(),I("p",Gt,Q(b(a)),1)):P("",!0),t(r,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:o(()=>[t(_,{icon:b(be),circle:"",loading:n.value,onClick:s,size:"mini"},null,8,["icon","loading"])]),_:1}),b(l).eSBlance?(A(),H(r,{key:1,content:b(l).eBBlance?"\u8F6C\u8D26":"BNB\u4F59\u989D\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u8F6C\u8D26",placement:"top"},{default:o(()=>[t(_,{icon:b(we),circle:"",onClick:d[0]||(d[0]=i=>b(l).eBBlance?B():void 0),size:"mini"},null,8,["icon"])]),_:1},8,["content"])):P("",!0)])}}const Xt=k(U(M({},Zt),{props:{data:null,getBalance:null,openTrans:null},setup:Qt}));var eu=ue(Xt,[["__scopeId","data-v-96a86ec2"]]);const tu=T("-"),uu={class:"dialog-footer"},nu=T("\u53D6\u6D88"),au=T("\u786E\u5B9A"),ou=k({name:"AssembleToken"});function lu(u){const e=u,s=L().state.currentAccount.addressMap,a=x({token:"",to:"",startNo:"",endNo:""}),{transfer:B,getWallet:l}=fe(),c=()=>{e.close(),a.value.token="",a.value.to="",a.value.startNo="",a.value.endNo=""},d=()=>{c()},_=async()=>{const{startNo:r,endNo:i,to:p,token:v}=a.value;if(!v||p!="0"&&!p){w.error("\u8BF7\u586B\u5199\u6C47\u805A\u7684\u4FE1\u606F");return}if(r!="0"&&!r){w.error("\u8BF7\u586B\u5199\u6C47\u805A\u7684\u4FE1\u606F");return}if(!i){w.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u8D77\u59CB\u7F16\u53F7");return}if(pe(p)){const F=s[r].address,m=s[i].address;if(F===p||m===p){w.error("\u63A5\u6536\u5730\u5740\u5728\u5F52\u96C6\u5730\u5740\u5185");return}}else if(p===r||p===i){w.error("\u63A5\u6536\u5730\u5740\u5728\u5F52\u96C6\u5730\u5740\u5185");return}if(r<e.rangeFrom){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.rangeFrom);return}if(Number(i)>e.rangeTo){w.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.rangeTo);return}if(e.close(),v==="BNB"){for(let F=r;F<=i;F++){const m=await l(F).getBalance();m.isZero()?s[F].transFerSuccess=2:await B(F,p,m.mul(g.from(97)).div(g.from(100)))}return}if(v==="STRAYINU")for(let F=r;F<=i;F++){const m=await e.getBalance(F);m.isZero()?s[F].transFerSuccess=2:await e.strayInuTransfer(F,p,m)}};return(r,i)=>{const p=f("el-option"),v=f("el-select"),F=f("el-form-item"),m=f("el-input"),N=f("el-col"),y=f("el-form"),O=f("el-button"),h=f("el-dialog");return A(),H(h,{modelValue:e.showAssemble,"onUpdate:modelValue":i[4]||(i[4]=S=>e.showAssemble=S),"before-close":d,title:"Token\u5F52\u96C6",width:"35%"},{footer:o(()=>[V("span",uu,[t(O,{onClick:c},{default:o(()=>[nu]),_:1}),t(O,{type:"primary",onClick:_},{default:o(()=>[au]),_:1})])]),default:o(()=>[t(y,{ref:(S,E)=>{E.editFrom=S},"label-position":"top","label-width":"100%",model:a.value},{default:o(()=>[t(F,{label:"\u9009\u62E9\u8981\u5F52\u96C6\u7684Token",required:""},{default:o(()=>[t(v,{"fit-input-width":"",modelValue:a.value.token,"onUpdate:modelValue":i[0]||(i[0]=S=>a.value.token=S),placeholder:"\u9009\u62E9Token"},{default:o(()=>[t(p,{label:"BNB",value:"BNB"}),t(p,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(F,{label:"\u63A5\u6536\u5730\u5740/\u7F16\u53F7",required:""},{default:o(()=>[t(m,{modelValue:a.value.to,"onUpdate:modelValue":i[1]||(i[1]=S=>a.value.to=S),placeholder:"\u8BF7\u8F93\u5165\u63A5\u6536\u5730\u5740/\u7F16\u53F7"},null,8,["modelValue"])]),_:1}),t(F,{label:"\u5F52\u96C6\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(N,{span:11},{default:o(()=>[t(m,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:a.value.startNo,"onUpdate:modelValue":i[2]||(i[2]=S=>a.value.startNo=S),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(N,{span:11},{default:o(()=>[tu]),_:1}),t(N,{span:11},{default:o(()=>[t(m,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:a.value.endNo,"onUpdate:modelValue":i[3]||(i[3]=S=>a.value.endNo=S),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const su=k(U(M({},ou),{props:{close:null,showAssemble:null,rangeFrom:null,rangeTo:null,getBalance:null,strayInuTransfer:null},setup:lu}));const Re=u=>(_e("data-v-a77d8008"),u=u(),me(),u),ru=Re(()=>V("br",null,null,-1)),cu=T("-"),du=T("\u751F\u6210\u5730\u5740 "),iu=T("\u6279\u91CF\u8F6C\u8D26 "),pu=T("\u6279\u91CF\u5151\u6362 "),_u=T("\u6C47\u805Atoken "),mu=Re(()=>V("br",null,null,-1)),fu={class:"address-table-row"},Fu={key:0},vu=["href"],Bu={key:1,class:"error"},hu={key:0},bu=["href"],wu={key:1,class:"error"},yu=k({name:"Address"});function Du(u){const e=x(!1),n=x(!1),s=x(!1),a=x(null),B=($,C)=>{a.value=U(M({},v[$]),{token:C})},l=()=>{a.value=null},c=L(),{toClipboard:d}=De(),_=c.state.currentAccount.mnemonic,r=x(0),i=x(19),p=x([]),v=c.state.currentAccount.addressMap,F=x(!1),{getBalance:m,transfer:N}=wt(),y=()=>{let $=r.value,C=i.value;if(!($!==""&&$>=0&&C>=0&&$<=C)){w.error($>C?"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7F16\u53F7\u8303\u56F4":"\u7F16\u53F7\u8303\u56F4 0~10000");return}const z=()=>{const q=ot.fromMnemonic(_);return new Promise((X,K)=>{try{let Z=[];for(let j=$;j<=C;j++){let Y=Ve(j),J=v[j];if(!J){let ne=q.derivePath(Y);J={id:j,address:ne.address,privateKey:ne.privateKey},c.commit("updateAddressMap",J)}Z.push(J)}X(Z)}catch(Z){K(Z)}})};F.value=!0,setTimeout(()=>{z().then(q=>{p.value=q,E.value=1}).finally(()=>{F.value=!1})},200)};se(()=>{y()});const O=$=>{parseInt($)>=1e4&&(r.value=1e4)},h=$=>{parseInt($)>=1e4&&(i.value=1e4)},S=async($,C)=>{const z=c.state.currentAccount.addressMap[C];if(z)try{await d($===0?z.privateKey:z.address),w.success("\u5DF2\u590D\u5236")}catch{w.success("\u590D\u5236\u5931\u8D25")}else w.success("\u590D\u5236\u5931\u8D25")},E=x(1),G=x(20),W=$=>{G.value=$},Oe=$=>{E.value=$},He=()=>{e.value=!1},ze=()=>{n.value=!1},Pe=()=>{s.value=!1},de=Ue(_);return($,C)=>{const z=f("el-input"),q=f("el-form-item"),X=f("el-col"),K=f("el-button"),Z=f("el-row"),j=f("el-form"),Y=f("el-table-column"),J=f("el-tooltip"),ne=f("el-table"),qe=f("el-pagination"),Ke=Xe("loading");return A(),I(ge,null,[t(b(et),{title:"\u5F53\u524D\u4E3A\u6D4B\u8BD5\u73AF\u5883(Binance Smart Chain Testnet)",type:"warning",closable:!1}),ru,t(j,{ref:(D,ie)=>{ie.form=D},"label-width":"120px"},{default:o(()=>[t(q,{label:"\u52A9\u8BB0\u8BCD"},{default:o(()=>[t(z,{modelValue:b(de),"onUpdate:modelValue":C[0]||(C[0]=D=>ut(de)?de.value=D:null),disabled:"",placeholder:"\u52A9\u8BB0\u8BCD"},null,8,["modelValue"])]),_:1}),t(q,{label:"\u7F16\u53F7\u8303\u56F4"},{default:o(()=>[t(X,{span:11},{default:o(()=>[t(z,{modelValue:r.value,"onUpdate:modelValue":C[1]||(C[1]=D=>r.value=D),modelModifiers:{number:!0},width:"100px",onInput:O},null,8,["modelValue"])]),_:1}),t(X,{span:11},{default:o(()=>[cu]),_:1}),t(X,{span:11},{default:o(()=>[t(z,{modelValue:i.value,"onUpdate:modelValue":C[2]||(C[2]=D=>i.value=D),modelModifiers:{number:!0},width:"100px",onInput:h},null,8,["modelValue"])]),_:1})]),_:1}),t(q,null,{default:o(()=>[t(Z,null,{default:o(()=>[t(K,{type:"primary",onClick:y,disabled:F.value},{default:o(()=>[du]),_:1},8,["disabled"]),t(K,{disabled:p.value.length===0||F.value,type:"primary",onClick:C[3]||(C[3]=D=>n.value=!0)},{default:o(()=>[iu]),_:1},8,["disabled"]),t(K,{type:"primary",disabled:p.value.length===0||F.value,onClick:C[4]||(C[4]=D=>e.value=!0)},{default:o(()=>[pu]),_:1},8,["disabled"]),t(K,{type:"primary",onClick:C[5]||(C[5]=D=>s.value=!0)},{default:o(()=>[_u]),_:1})]),_:1})]),_:1})]),_:1},512),mu,tt(t(ne,{data:p.value.slice((E.value-1)*G.value,E.value*G.value),class:"address-table"},{default:o(()=>[t(Y,{prop:"id",label:"\u5730\u5740\u7F16\u53F7",width:"90"}),t(Y,{label:"\u5730\u5740",width:"500px"},{default:o(D=>[V("div",fu,[V("p",null,Q(D.row.address),1),t(J,{content:"\u590D\u5236\u5730\u5740",placement:"top"},{default:o(()=>[t(K,{icon:b(nt),circle:"",onClick:ie=>S(1,D.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024),t(J,{content:"\u590D\u5236\u79C1\u94A5",placement:"top"},{default:o(()=>[t(K,{icon:b(at),circle:"",onClick:ie=>S(0,D.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024)])]),_:1}),t(Y,{label:"BNB\u4F59\u989D",width:"300px"},{default:o(D=>[t(St,{data:D.row,key:D.row.address,openTrans:B},null,8,["data"])]),_:1}),t(Y,{label:"StrayInu\u4F59\u989D",width:"240px"},{default:o(D=>[t(eu,{data:D.row,key:D.row.address,getBalance:b(m),openTrans:B},null,8,["data","getBalance"])]),_:1}),t(Y,null,{default:o(D=>[D.row.transFerpending?(A(),I("div",Fu," \u8F6C\u8D26\u4E2D... ")):P("",!0),V("div",null,[D.row.transFerSuccess===1?(A(),I("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+D.row.txHash,target:"_blank"},"\u8F6C\u8D26\u6210\u529F",8,vu)):D.row.transFerSuccess===2?(A(),I("a",Bu,"\u8F6C\u8D26\u5931\u8D25")):P("",!0)])]),_:1}),t(Y,null,{default:o(D=>[D.row.swapPending?(A(),I("div",hu," \u5151\u6362\u4E2D... ")):P("",!0),V("div",null,[D.row.swapSuccess===1?(A(),I("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+D.row.swapHash,target:"_blank"},"\u5151\u6362\u6210\u529F",8,bu)):D.row.swapSuccess===2?(A(),I("a",wu,"\u5151\u6362\u5931\u8D25")):P("",!0)])]),_:1})]),_:1},8,["data"]),[[Ke,F.value]]),t($t,{dialogvisible:n.value,close:ze,from:r.value,to:i.value},null,8,["dialogvisible","from","to"]),t(qe,{class:"pagination",align:"right",layout:"prev, pager, next, jumper, total, sizes",onSizeChange:W,onCurrentChange:Oe,"current-page":E.value,"page-sizes":[20,50,100],"page-size":G.value,total:p.value.length},null,8,["current-page","page-size","total"]),t(jt,{dialogSwapShow:e.value,close:He,from:r.value,to:i.value},null,8,["dialogSwapShow","from","to"]),t(zt,{data:a.value,close:l,strayInuTransfer:b(N)},null,8,["data","strayInuTransfer"]),t(su,{showAssemble:s.value,close:Pe,getBalance:b(m),strayInuTransfer:b(N),rangeFrom:r.value,rangeTo:i.value},null,8,["showAssemble","getBalance","strayInuTransfer","rangeFrom","rangeTo"])],64)}}const gu=k(U(M({},yu),{setup:Du}));var Cu=ue(gu,[["__scopeId","data-v-a77d8008"]]);const Au=u=>(_e("data-v-682c55a2"),u=u(),me(),u),Su={class:"add"},Eu=T("\u5BFC\u5165 "),Tu=Au(()=>V("br",null,null,-1)),Nu={class:"account-table-row"},ku=T("\u5DF2\u6FC0\u6D3B "),xu=T("\u6FC0\u6D3B "),Vu=k({name:"Account"});function $u(u){const e=x(""),n=L(),{toClipboard:s}=De(),a=()=>{let c=e.value.trim();if(c){let d=vt(c);d?n.dispatch("addAccount",{id:d,mnemonic:c}).then(()=>{w.success("\u5BFC\u5165\u6210\u529F"),e.value=""}):w.error("\u52A9\u8BB0\u8BCD\u65E0\u6548")}else w.error("\u8BF7\u586B\u5165\u52A9\u8BB0\u8BCD")},B=c=>{n.commit("selectAccount",c)},l=async c=>{try{await s(c),w.success("\u5DF2\u590D\u5236")}catch{w.success("\u590D\u5236\u5931\u8D25")}};return(c,d)=>{const _=f("el-input"),r=f("el-button"),i=f("el-tooltip"),p=f("el-table-column"),v=f("el-table");return A(),I(ge,null,[V("div",Su,[t(_,{modelValue:e.value,"onUpdate:modelValue":d[0]||(d[0]=F=>e.value=F),placeholder:"\u8F93\u5165\u52A9\u8BB0\u8BCD"},null,8,["modelValue"]),t(r,{type:"primary",onClick:a},{default:o(()=>[Eu]),_:1})]),Tu,t(v,{data:b(n).state.accounts,style:{width:"100%"}},{default:o(()=>[t(p,{label:"\u5DF2\u5BFC\u5165\u52A9\u8BB0\u8BCD"},{default:o(F=>[V("div",Nu,[V("p",null,Q(b(Ue)(F.row.mnemonic)),1),t(i,{content:"\u590D\u5236\u52A9\u8BB0\u8BCD",placement:"top"},{default:o(()=>[t(r,{icon:b(lt),circle:"",onClick:m=>l(F.row.mnemonic),size:"mini"},null,8,["icon","onClick"])]),_:2},1024)])]),_:1}),t(p,{width:"180",align:"right"},{default:o(F=>[F.row.id===b(n).state.currentAccount.id?(A(),H(r,{key:0,type:"primary",class:"btn",size:"small"},{default:o(()=>[ku]),_:1})):(A(),H(r,{key:1,onClick:m=>B(F.row.id),class:"btn",size:"small"},{default:o(()=>[xu]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])],64)}}const Iu=k(U(M({},Vu),{setup:$u}));var Mu=ue(Iu,[["__scopeId","data-v-682c55a2"]]),R;(function(u){u.HOME="HOME",u.ADDRESS="ADDRESS",u.ACCOUNT="ACCOUNT"})(R||(R={}));const Uu=[{path:"/",name:R.HOME,redirect:{name:R.ADDRESS}},{path:"/address",name:R.ADDRESS,component:Cu},{path:"/account",name:R.ACCOUNT,component:Mu}],Fe=st({history:rt(),routes:Uu});Fe.beforeEach(u=>{var e;return u.name===R.ADDRESS&&!((e=xe().accounts)==null?void 0:e.length)?(ye.alert("\u60A8\u8FD8\u6CA1\u6709\u5BFC\u5165\u52A9\u8BB0\u8BCD\uFF0C\u73B0\u5728\u5BFC\u5165\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",showClose:!1,callback:()=>{Fe.push({name:R.ACCOUNT})}}),!1):!0});const ve=u=>(_e("data-v-e8f6cefc"),u=u(),me(),u),Ru={class:"sidebar"},Ou=ve(()=>V("h1",null,"\u{1F436} StrayInu",-1)),Hu=ve(()=>V("p",null,"\u5730\u5740\u96C6",-1)),zu=ve(()=>V("p",null,"\u7BA1\u7406\u52A9\u8BB0\u8BCD",-1)),Pu=k({name:"Sidebar"});function qu(u){const e=ct(),n=x("");e.afterEach(a=>{n.value=a.name});const s=a=>{e.push({name:a})};return(a,B)=>{const l=f("el-icon"),c=f("el-menu-item"),d=f("el-menu");return A(),I("div",Ru,[Ou,t(d,{class:"nav",onSelect:s,"background-color":"transparent","text-color":"#fff"},{default:o(()=>[t(c,{index:b(R).ADDRESS,class:Ce({"is-active":n.value===b(R).ADDRESS})},{default:o(()=>[t(l,null,{default:o(()=>[t(b(dt))]),_:1}),Hu]),_:1},8,["index","class"]),t(c,{index:b(R).ACCOUNT,class:Ce({"is-active":n.value===b(R).ACCOUNT})},{default:o(()=>[t(l,null,{default:o(()=>[t(b(it))]),_:1}),zu]),_:1},8,["index","class"])]),_:1})])}}const Ku=k(U(M({},Pu),{setup:qu}));var Yu=ue(Ku,[["__scopeId","data-v-e8f6cefc"]]);const Lu=k({setup(u){const e=L();return se(()=>{if(e.state.accounts.length){const n=e.state.currentAccountId||e.state.accounts[0].id;e.commit("selectAccount",n)}}),(n,s)=>{const a=f("el-aside"),B=f("router-view"),l=f("el-main"),c=f("el-container");return A(),H(c,{class:"wrapper"},{default:o(()=>[t(a,{class:"asaid"},{default:o(()=>[t(Yu)]),_:1}),t(l,{class:"main"},{default:o(()=>[t(B)]),_:1})]),_:1})}}}),{accounts:Wu,currentAccountId:ju}=xe(),Ju={accounts:Wu||[],currentAccount:void 0,currentAccountId:ju,walletAddrs:[]};var Gu=pt({state(){return Ju},mutations:{addAccount(u,e){let n=!1;u.accounts.forEach(({id:s})=>{s===e.id&&(n=!0)}),n||(u.accounts.push(e),ke({accounts:u.accounts,currentAccountId:u.currentAccountId}))},selectAccount(u,e){let n=u.accounts[0];u.accounts.forEach(s=>{s.id===e&&(n=s)}),n&&(u.currentAccount=U(M({},n),{addressMap:{}}),ke({accounts:u.accounts,currentAccountId:n.id}))},updateAddressMap(u,e){u.currentAccount&&(u.currentAccount.addressMap[e.id]=e)},addWalletAddrs(u,e){e&&e.length>0&&(u.walletAddrs=[...e])}},actions:{addAccount(u,e){u.commit("addAccount",e),u.state.currentAccount||u.commit("selectAccount",e.id)}}});_t(Lu).use(mt).use(Gu).use(Fe).mount("#app");
