var ze=Object.defineProperty,Pe=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var Fe=(u,e,n)=>e in u?ze(u,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[e]=n,I=(u,e)=>{for(var n in e||(e={}))Ke.call(e,n)&&Fe(u,n,e[n]);if(fe)for(var n of fe(e))Ye.call(e,n)&&Fe(u,n,e[n]);return u},M=(u,e)=>Pe(u,qe(e));import{B as Z,W as ee,h as Le,m as We,a as A,C as ae,u as L,g as oe,d as N,r as S,c as de,o as le,b as i,e as $,f as B,t as te,i as P,j as t,w as l,k as R,l as C,R as ve,S as je,U as he,E as be,n as D,p as V,q as T,_ as Je,s as Ge,v as Qe,F as we,x as ie,y as pe,z as Xe,T as Ze,K as et,H as tt,A as nt,D as ut,G as at,I as ye,J as ot,L as lt,M as st,N as rt,O as ct}from"./vendor.8b386b25.js";const dt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const a of f.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerpolicy&&(f.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?f.credentials="include":s.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(s){if(s.ep)return;s.ep=!0;const f=n(s);fetch(s.href,f)}};dt();const Be=[{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"}],De=[{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],se="0x4cb2b39391d2e2952b2b7473871f8f632993fa7a",ge="0xae13d989dac2f0debff460ac112a837c89baa7cd",Ce="0x9ac64cc6e4415144c455bd8e4837fea55603e5c3",re="https://data-seed-prebsc-1-s1.binance.org:8545/",it=u=>{try{We(u)}catch{return!1}return!0},pt=u=>{try{return it(u)?Le.sha256().update(u).digest("hex").substr(0,16):""}catch{return""}},Ae="STRAYINU_TOOLS_STORE",Se=u=>{try{localStorage[Ae]=JSON.stringify(u)}catch{}},Te=()=>{try{return JSON.parse(localStorage[Ae])}catch{return{}}},Ee=u=>{let e=Math.floor(u/100),n=u%100;return`m/44'/60'/0'/${e}/${n}`},Ne=(u,e)=>{const n=Ee(u);return ee.fromMnemonic(e,n).address},ke=(u,e,n=18)=>{let o=u;Number(o)<1?o=A.from(u*1e4).mul(A.from(10).pow(n)).div(A.from(1e4)):o=A.from(u).mul(A.from(10).pow(n));let s=[],f=A.from(e),a=A.from(10).pow(n<18?6:15);for(let m=0;m<e;m++)if(f.eq(A.from(A.from(1))))s.push(o);else{let r=o.div(f).mul(2),d=A.from(new Date().getTime()).mul(a).mod(r);d.lte(a)&&(d=a),f=f.sub(A.from(1)),o=o.sub(d),s.push(d)}return s},xe=u=>{let e=u;return e!==void 0&&(e=Number(e).toLocaleString("cn",{minimumFractionDigits:2,maximumFractionDigits:6})),e||""};new Z(0);new Z(1);new Z(9);const _t=new Z(10),mt=(u,e=18)=>new Z(u).dividedBy(_t.pow(e)),Ve=(u,e=18)=>mt(u,e).toFixed(6),ft=()=>{const u=new ae(se,De),e=L(),n=e.state.currentAccount.addressMap,o=a=>{const{privateKey:m}=n[a];return new ee(m,oe(re))};return{contract:u,getBalance:async a=>{const{address:m}=n[a],r=o(a);return await u.connect(r).balanceOf(m)},transfer:async(a,m,r)=>{const d=n[m]?n[m].address:Ne(m,e.state.currentAccount.mnemonic),c=o(a),_=A.from(r).mul(A.from(10).pow(9));try{n[a].transFerpending=!0,n[a].transFerSuccess=0;const p=await u.connect(c).transfer(d,_).catch(()=>{n[a].transFerSuccess=2});n[a].transFerpending=!1,p&&(n[a].txHash=p==null?void 0:p.hash,n[a].transFerSuccess=1)}catch{n[a].transFerpending=!1,n[a].txHash=null,n[a].transFerSuccess=2}}}},$e=()=>{const u=new ae(Ce,Be),e=L(),n=e.state.currentAccount.addressMap,o=a=>{const{privateKey:m}=n[a],r=oe(re);return new ee(m,r)};return{contract:u,getWallet:o,swap:async(a,m)=>{const r=o(a),{address:d}=n[a],c=A.from(Math.floor(new Date().getTime()/1e3+86400)),_=[ge,se];n[a].swapPending=!0;const p=A.from(Math.floor(m*1e4)).mul(A.from(10).pow(14));try{n[a].swapPending=!0,n[a].swapSuccess=0;const v=await u.connect(r).swapExactETHForTokens(0,_,d,c,{value:p}).catch(()=>{n[a].swapSuccess=2});n[a].swapPending=!1,v&&(n[a].swapHash=v==null?void 0:v.hash,n[a].swapSuccess=1)}catch{n[a].swapPending=!1,n[a].swapHash=null,n[a].swapSuccess=2}},transfer:async(a,m,r)=>{try{const d=n[m]?n[m].address:Ne(m,e.state.currentAccount.mnemonic),c=o(a),_=A.from(Math.floor(r*1e4)).mul(A.from(10).pow(14));n[a].transFerpending=!0,n[a].transFerSuccess=0;const p=await c.sendTransaction({to:d,value:_,chainId:c.getChainId()}).catch(()=>{n[a].transFerSuccess=2});n[a].transFerpending=!1,p&&(n[a].txHash=p==null?void 0:p.hash,n[a].transFerSuccess=1)}catch{n[a].transFerpending=!1,n[a].txHash=null,n[a].transFerSuccess=2}}}};var ne=(u,e)=>{for(const[n,o]of e)u[n]=o;return u};const Ft={class:"balance"},vt={key:0},ht=N({name:"Balance"});function bt(u){const e=u,n=S(!1),{getWallet:o,swap:s}=$e(),f=o(e.data.id),a=async()=>{n.value=!0;const c=await f.getBalance();e.data.balance=Ve(c.toString()),n.value=!1};let m=de(()=>e.data.balance);le(async()=>{e.data.balance===void 0&&await a()});const r=()=>{be.prompt(`\u7F16\u53F7: ${e.data.id} \u4F59\u989D: ${m.value}`,"\u5151\u6362",{confirmButtonText:"\u5151\u6362",cancelButtonText:"\u53D6\u6D88",inputPlaceholder:"\u5151\u6362\u91D1\u989D\uFF0C\u6700\u591A4\u4F4D\u5C0F\u6570",beforeClose:async(c,_,p)=>{if(c==="confirm"){let v=Number(_.inputValue),y=Number(e.data.balance);if(!v)D.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");else if(v>y)D.error("\u4F59\u989D\u4E0D\u8DB3");else try{p(),await s(e.data.id,v)}catch(F){console.error(F),D.error("\u5151\u6362\u5931\u8D25")}}else p()}}).catch(()=>{})},d=()=>{e.openTrans(e.data.id,"BNB")};return(c,_)=>{const p=i("el-button"),v=i("el-tooltip");return C(),$("div",Ft,[B(m)?(C(),$("p",vt,te(B(m)),1)):P("",!0),t(v,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:l(()=>[t(p,{icon:B(ve),circle:"",loading:n.value,onClick:a,size:"mini"},null,8,["icon","loading"])]),_:1}),e.data.balance>0?(C(),R(v,{key:1,content:"\u5151\u6362",placement:"top"},{default:l(()=>[t(p,{icon:B(je),circle:"",onClick:r,size:"mini"},null,8,["icon"])]),_:1})):P("",!0),e.data.balance>0?(C(),R(v,{key:2,content:"\u8F6C\u8D26",placement:"top"},{default:l(()=>[t(p,{icon:B(he),circle:"",onClick:d,size:"mini"},null,8,["icon"])]),_:1})):P("",!0)])}}const wt=N(M(I({},ht),{props:{data:null,openTrans:null},setup:bt}));var yt=ne(wt,[["__scopeId","data-v-e0dcfbe4"]]);const Bt=T("-"),Dt={class:"dialog-footer"},gt=T("\u53D6\u6D88"),Ct=T("\u786E\u5B9A"),At=N({name:"TransferDialog"});function St(u){const e=u,o=L().state.currentAccount.addressMap,s=S({transferToken:"",transferAmount:"",from:"",to:"",startNo:"",endNo:""}),f=()=>{e.close(),s.value.transferToken="",s.value.transferAmount="",s.value.from="",s.value.to="",s.value.startNo="",s.value.endNo=""},a=async()=>{const{transferToken:m,transferAmount:r,from:d,startNo:c=1,endNo:_=2}=s.value;if(!m&&!r&&!d&&c&&!_){D.error("\u586B\u5199\u8F6C\u8D26\u4FE1\u606F");return}if(d==c){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(d==_){D.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(c<e.from){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.from);return}if(_>e.to){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.to);return}let p=_-c+1;const v=ke(Number(r),p,m==="BNB"?18:9),{privateKey:y}=o[d],F=new ae(se,De),k=new ee(y,oe(re));f();for(let h=c;h<=_;h++)o[h].transFerpending=!0,o[h].transFerSuccess=0;for(let h=0,O=v.length;h<O;h++){const b=c+h,{address:H}=o[b];if(m==="BNB")try{const E=await k.sendTransaction({to:H,value:v[h],chainId:97}).catch(()=>{o[b].transFerSuccess=2});o[b].transFerpending=!1,E&&(o[b].txHash=E==null?void 0:E.hash,o[b].transFerSuccess=1)}catch{o[b].transFerpending=!1,o[b].txHash=null,o[b].transFerSuccess=2}if(m==="STRAYINU")try{const E=await F.connect(k).transfer(H,v[h]).catch(()=>{o[b].transFerSuccess=2});o[b].transFerpending=!1,E&&(o[b].txHash=E==null?void 0:E.hash,o[b].transFerSuccess=1)}catch{o[b].transFerpending=!1,o[b].txHash=null,o[b].transFerSuccess=2}}};return(m,r)=>{const d=i("el-option"),c=i("el-select"),_=i("el-form-item"),p=i("el-input"),v=i("el-col"),y=i("el-form"),F=i("el-button"),k=i("el-dialog");return C(),R(k,{"before-close":f,modelValue:e.dialogvisible,"onUpdate:modelValue":r[5]||(r[5]=h=>e.dialogvisible=h),title:"\u6279\u91CF\u8F6C\u8D26",width:"42%"},{footer:l(()=>[V("span",Dt,[t(F,{onClick:f},{default:l(()=>[gt]),_:1}),t(F,{type:"primary",onClick:a},{default:l(()=>[Ct]),_:1})])]),default:l(()=>[t(y,{"label-position":"top","label-width":"100%",model:s.value},{default:l(()=>[t(_,{label:"\u9009\u62E9\u8F6C\u8D26\u7684Token",required:""},{default:l(()=>[t(c,{"fit-input-width":"",modelValue:s.value.transferToken,"onUpdate:modelValue":r[0]||(r[0]=h=>s.value.transferToken=h),placeholder:"\u9009\u62E9\u8F6C\u8D26\u5E01\u79CD"},{default:l(()=>[t(d,{label:"BNB",value:"BNB"}),t(d,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u8F6C\u8D26\u603B\u91CF",required:""},{default:l(()=>[t(p,{modelValue:s.value.transferAmount,"onUpdate:modelValue":r[1]||(r[1]=h=>s.value.transferAmount=h),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u603B\u91D1\u989D"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u8F6C\u8D26\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(p,{modelValue:s.value.from,"onUpdate:modelValue":r[2]||(r[2]=h=>s.value.from=h),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u5730\u5740\u7F16\u53F7\uFF08\u4F8B\uFF1A\u8F93\u51650\u8868\u793A\u7528\u7B2C\u4E00\u4E2A\u5730\u5740\u8F6C\u8D26\uFF09"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u6536\u5E10\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:s.value.startNo,"onUpdate:modelValue":r[3]||(r[3]=h=>s.value.startNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(v,{span:11},{default:l(()=>[Bt]),_:1}),t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:s.value.endNo,"onUpdate:modelValue":r[4]||(r[4]=h=>s.value.endNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const Tt=N(M(I({},At),{props:{close:null,dialogvisible:null,from:null,to:null},setup:St})),Et=T("\xA0\xA0\xA0\xA0 "),Nt={class:"dialog-footer"},kt=T("\u53D6\u6D88"),xt=T("\u8F6C\u8D26"),Vt=N({name:"ModalTransferInline"});function $t(u){const e=u,{transfer:n}=$e(),o=()=>{s()},s=()=>{e.close(),a.value={to:"",amount:""}},f=async()=>{var _,p,v,y,F;let r=Number(a.value.to),d=Number(a.value.amount),c=Number(((_=e.data)==null?void 0:_.token)==="BNB"?e.data.balance:e.data.strayInuBalance);if(!a.value.to){D.error("\u8BF7\u586B\u5199\u8F6C\u5165\u7F16\u53F7");return}if(r>1e3||r<0||Math.floor(r)!==r){D.error("\u7F16\u53F7\u8303\u56F40 ~ 10000");return}if(r===e.data.id){D.error("\u8F6C\u5165\u7F16\u53F7\u4E0D\u80FD\u548C\u5F53\u524D\u7F16\u53F7\u76F8\u540C");return}if(d<0||!d){D.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");return}if(d>c){D.error("\u4F59\u989D\u4E0D\u8DB3");return}((p=e.data)==null?void 0:p.token)==="StrayInu"?(s(),await e.strayInuTransfer((v=e.data)==null?void 0:v.id,r,Math.floor(d))):((y=e.data)==null?void 0:y.token)==="BNB"&&(s(),await n((F=e.data)==null?void 0:F.id,r,d))},a=S({to:"",amount:""}),m=de(()=>{var _,p,v,y,F,k;let r="0",d="\u8F6C\u8D26",c="\u8BF7\u8F93\u5165\u91D1\u989D";return((_=e.data)==null?void 0:_.token)==="BNB"?(r=((p=e.data)==null?void 0:p.balance)||"0",d=((v=e.data)==null?void 0:v.token)+"\u8F6C\u8D26",c="\u6700\u591A4\u4F4D\u5C0F\u6570"):((y=e.data)==null?void 0:y.token)==="StrayInu"&&(r=((F=e.data)==null?void 0:F.strayInuBalance)||"0",d=((k=e.data)==null?void 0:k.token)+"\u8F6C\u8D26",c="\u6574\u6570"),{balance:r,title:d,amountHolder:c}});return(r,d)=>{const c=i("el-form-item"),_=i("el-input"),p=i("el-form"),v=i("el-button"),y=i("el-dialog");return C(),R(y,{modelValue:e.data,"onUpdate:modelValue":d[2]||(d[2]=F=>e.data=F),"before-close":o,title:B(m).title,width:"480px"},{footer:l(()=>[V("span",Nt,[t(v,{onClick:s},{default:l(()=>[kt]),_:1}),t(v,{type:"primary",onClick:f},{default:l(()=>[xt]),_:1})])]),default:l(()=>[t(p,{model:a.value,"label-width":"100px"},{default:l(()=>[t(c,{label:"\u5F53\u524D\u7F16\u53F7"},{default:l(()=>{var F;return[V("span",null,te((F=e.data)==null?void 0:F.id),1),Et,V("span",null,"\u4F59\u989D\xA0\xA0"+te(B(xe)(B(m).balance)),1)]}),_:1}),t(c,{label:"\u8F6C\u5165\u7F16\u53F7"},{default:l(()=>[t(_,{modelValue:a.value.to,"onUpdate:modelValue":d[0]||(d[0]=F=>a.value.to=F),placeholder:"0~10000\uFF0C\u6574\u6570",type:"number"},null,8,["modelValue"])]),_:1}),t(c,{label:"\u8F6C\u8D26\u91D1\u989D"},{default:l(()=>[t(_,{modelValue:a.value.amount,"onUpdate:modelValue":d[1]||(d[1]=F=>a.value.amount=F),placeholder:B(m).amountHolder,type:"number"},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}const It=N(M(I({},Vt),{props:{data:null,close:null,strayInuTransfer:null},setup:$t})),Mt=T("-"),Ut={class:"dialog-footer"},Rt=T("\u53D6\u6D88"),Ot=T("\u786E\u5B9A"),Ht=N({name:"dialogSwapShow"});function zt(u){const e=u,o=L().state.currentAccount.addressMap,s=S({swapToken:"STRAYINU",swapAmount:"",startNo:"",endNo:""}),f=S(),a=()=>{e.close(),s.value.swapAmount="",s.value.startNo="",s.value.endNo=""},m=()=>{a()},r=async()=>{const{swapToken:d,swapAmount:c,startNo:_=0,endNo:p=0}=s.value;if(!d&&!c&&!_&&!p){D.error("\u586B\u5199\u5151\u6362\u4FE1\u606F");return}if(p==_){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u7ED3\u59CB\u5730\u5740\u7F16\u53F7");return}if(_<e.from){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.from);return}if(p>e.to){D.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.to);return}const v=ke(c,p-_+1,18);v.forEach((F,k)=>{console.log(k+":",Ve(F.toString(),18))});const y=new ae(Ce,Be);a();for(let F=_,k=0;F<=p;F++,k++){const{privateKey:h,address:O}=o[F],b=oe(re),H=new ee(h,b),E=A.from(Math.floor(new Date().getTime()/1e3+86400)),G=[ge,se];o[F].swapPending=!0,o[F].transFerSuccess=0;try{const W=await y.connect(H).swapExactETHForTokens(0,G,O.slice(2),E,{value:v[k]}).catch(()=>{o[F].swapSuccess=2});o[F].swapPending=!1,W&&(o[F].swapHash=W==null?void 0:W.hash,o[F].swapSuccess=1)}catch{o[F].swapPending=!1,o[F].swapHash=null,o[F].swapSuccess=2}}};return(d,c)=>{const _=i("el-option"),p=i("el-select"),v=i("el-form-item"),y=i("el-input"),F=i("el-col"),k=i("el-form"),h=i("el-button"),O=i("el-dialog");return C(),R(O,{modelValue:e.dialogSwapShow,"onUpdate:modelValue":c[4]||(c[4]=b=>e.dialogSwapShow=b),"before-close":m,title:"\u6279\u91CF\u5151\u6362",width:"42%"},{footer:l(()=>[V("span",Ut,[t(h,{onClick:a},{default:l(()=>[Rt]),_:1}),t(h,{type:`
          primary`,onClick:r},{default:l(()=>[Ot]),_:1})])]),default:l(()=>[t(k,{ref:(b,H)=>{H.editFrom=b,f.value=b},"label-position":"top","label-width":"100%",model:s.value},{default:l(()=>[t(v,{label:"\u9009\u62E9\u8981\u5151\u6362\u7684Token",required:""},{default:l(()=>[t(p,{"fit-input-width":"",modelValue:s.value.swapToken,"onUpdate:modelValue":c[0]||(c[0]=b=>s.value.swapToken=b),placeholder:"\u9009\u62E9Token"},{default:l(()=>[t(_,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"\u652F\u4ED8\u7684\u8F6C\u8D26\u91D1\u989D(BNB)",required:""},{default:l(()=>[t(y,{modelValue:s.value.swapAmount,"onUpdate:modelValue":c[1]||(c[1]=b=>s.value.swapAmount=b),placeholder:"\u8BF7\u8F93\u5165\u5151\u6362\u91D1\u989D(BNB)"},null,8,["modelValue"])]),_:1}),t(v,{label:"\u5151\u6362\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(F,{span:11},{default:l(()=>[t(y,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:s.value.startNo,"onUpdate:modelValue":c[2]||(c[2]=b=>s.value.startNo=b),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(F,{span:11},{default:l(()=>[Mt]),_:1}),t(F,{span:11},{default:l(()=>[t(y,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:s.value.endNo,"onUpdate:modelValue":c[3]||(c[3]=b=>s.value.endNo=b),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const Pt=N(M(I({},Ht),{props:{close:null,dialogSwapShow:null,from:null,to:null},setup:zt}));const qt={class:"balance"},Kt={key:0},Yt=N({name:"StrayInuBalance"});function Lt(u){const e=u,n=S(!1),o=async()=>{n.value=!0;try{let a=await e.getBalance(e.data.id);e.data.strayInuBalance=a.div(A.from(10).pow(9)).toString()||"0",n.value=!1}catch{e.data.strayInuBalance="0",n.value=!1}};let s=de(()=>xe(e.data.strayInuBalance));le(async()=>{e.data.strayInuBalance===void 0&&await o()});const f=()=>{e.openTrans(e.data.id,"StrayInu")};return(a,m)=>{var c;const r=i("el-button"),d=i("el-tooltip");return C(),$("div",qt,[B(s)?(C(),$("p",Kt,te(B(s)),1)):P("",!0),t(d,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:l(()=>[t(r,{icon:B(ve),circle:"",loading:n.value,onClick:o,size:"mini"},null,8,["icon","loading"])]),_:1}),Number(((c=e.data)==null?void 0:c.strayInuBalance)||0)>0?(C(),R(d,{key:1,content:"\u8F6C\u8D26",placement:"top"},{default:l(()=>[t(r,{icon:B(he),circle:"",onClick:f,size:"mini"},null,8,["icon"])]),_:1})):P("",!0)])}}const Wt=N(M(I({},Yt),{props:{data:null,getBalance:null,openTrans:null},setup:Lt}));var jt=ne(Wt,[["__scopeId","data-v-4f00b14b"]]);const Jt=T("-"),Gt={class:"dialog-footer"},Qt=T("\u53D6\u6D88"),Xt=T("\u786E\u5B9A"),Zt=N({name:"AssembleToken"});function en(u){const e=u;L().state.currentAccount.addressMap;const o=S({swapToken:"STRAYINU",swapAmount:"",startNo:"",endNo:""}),s=S(),f=()=>{e.close(),o.value.swapAmount="",o.value.startNo="",o.value.endNo=""},a=()=>{f()};return(m,r)=>{const d=i("el-option"),c=i("el-select"),_=i("el-form-item"),p=i("el-input"),v=i("el-col"),y=i("el-form"),F=i("el-button"),k=i("el-dialog");return C(),R(k,{modelValue:e.showAssemble,"onUpdate:modelValue":r[4]||(r[4]=h=>e.showAssemble=h),"before-close":a,title:"Token\u5F52\u96C6",width:"35%"},{footer:l(()=>[V("span",Gt,[t(F,{onClick:f},{default:l(()=>[Qt]),_:1}),t(F,{type:"primary"},{default:l(()=>[Xt]),_:1})])]),default:l(()=>[t(y,{ref:(h,O)=>{O.editFrom=h,s.value=h},"label-position":"top","label-width":"100%",model:o.value},{default:l(()=>[t(_,{label:"\u9009\u62E9\u8981\u5F52\u96C6\u7684Token",required:""},{default:l(()=>[t(c,{"fit-input-width":"",modelValue:o.value.swapToken,"onUpdate:modelValue":r[0]||(r[0]=h=>o.value.swapToken=h),placeholder:"\u9009\u62E9Token"},{default:l(()=>[t(d,{label:"BNB",value:"BNB"}),t(d,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u63A5\u6536\u5730\u5740/\u7F16\u53F7",required:""},{default:l(()=>[t(p,{modelValue:o.value.from,"onUpdate:modelValue":r[1]||(r[1]=h=>o.value.from=h),placeholder:"\u8BF7\u8F93\u5165\u63A5\u6536\u5730\u5740/\u7F16\u53F7"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u5F52\u96C6\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:o.value.startNo,"onUpdate:modelValue":r[2]||(r[2]=h=>o.value.startNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(v,{span:11},{default:l(()=>[Jt]),_:1}),t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:o.value.endNo,"onUpdate:modelValue":r[3]||(r[3]=h=>o.value.endNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const tn=N(M(I({},Zt),{props:{close:null,showAssemble:null},setup:en}));const nn=u=>(ie("data-v-033d0f60"),u=u(),pe(),u),un=T("-"),an=T("\u751F\u6210\u5730\u5740 "),on=T("\u6279\u91CF\u8F6C\u8D26 "),ln=T("\u6279\u91CF\u5151\u6362 "),sn=T("\u6C47\u805Atoken "),rn=nn(()=>V("br",null,null,-1)),cn={class:"address-table-row"},dn={key:0},pn=["href"],_n={key:1,class:"error"},mn={key:0},fn=["href"],Fn={key:1,class:"error"},vn=N({name:"Address"});function hn(u){const e=S(!1),n=S(!1),o=S(!1),s=S(null),f=(x,g)=>{s.value=M(I({},v[x]),{token:g})},a=()=>{s.value=null},m=L(),{toClipboard:r}=Je(),d=m.state.currentAccount.mnemonic,c=S(0),_=S(19),p=S([]),v=m.state.currentAccount.addressMap,y=S(!1),{getBalance:F,transfer:k}=ft(),h=()=>{let x=c.value,g=_.value;if(!(x!==""&&x>=0&&g>=0&&x<=g)){D.error(x>g?"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7F16\u53F7\u8303\u56F4":"\u7F16\u53F7\u8303\u56F4 0~10000");return}const z=()=>{const q=tt.fromMnemonic(d);return new Promise((X,K)=>{try{let Q=[];for(let j=x;j<=g;j++){let Y=Ee(j),J=v[j];if(!J){let ue=q.derivePath(Y);J={id:j,address:ue.address,privateKey:ue.privateKey},m.commit("updateAddressMap",J)}Q.push(J)}X(Q)}catch(Q){K(Q)}})};y.value=!0,setTimeout(()=>{z().then(q=>{p.value=q,E.value=1}).finally(()=>{y.value=!1})},200)};le(()=>{h()});const O=x=>{parseInt(x)>=1e4&&(c.value=1e4)},b=x=>{parseInt(x)>=1e4&&(_.value=1e4)},H=async(x,g)=>{const z=m.state.currentAccount.addressMap[g];if(z)try{await r(x===0?z.privateKey:z.address),D.success("\u5DF2\u590D\u5236")}catch{D.success("\u590D\u5236\u5931\u8D25")}else D.success("\u590D\u5236\u5931\u8D25")},E=S(1),G=S(20),W=x=>{G.value=x},Ie=x=>{E.value=x},Me=()=>{e.value=!1},Ue=()=>{n.value=!1},Re=()=>{o.value=!1};return(x,g)=>{const z=i("el-input"),q=i("el-form-item"),X=i("el-col"),K=i("el-button"),Q=i("el-row"),j=i("el-form"),Y=i("el-table-column"),J=i("el-tooltip"),ue=i("el-table"),Oe=i("el-pagination"),He=Ge("loading");return C(),$(we,null,[t(j,{ref:(w,ce)=>{ce.form=w},"label-width":"120px"},{default:l(()=>[t(q,{label:"\u52A9\u8BB0\u8BCD"},{default:l(()=>[t(z,{modelValue:B(d),"onUpdate:modelValue":g[0]||(g[0]=w=>Xe(d)?d.value=w:null),disabled:"",placeholder:"\u52A9\u8BB0\u8BCD"},null,8,["modelValue"])]),_:1}),t(q,{label:"\u7F16\u53F7\u8303\u56F4"},{default:l(()=>[t(X,{span:11},{default:l(()=>[t(z,{modelValue:c.value,"onUpdate:modelValue":g[1]||(g[1]=w=>c.value=w),modelModifiers:{number:!0},width:"100px",onInput:O},null,8,["modelValue"])]),_:1}),t(X,{span:11},{default:l(()=>[un]),_:1}),t(X,{span:11},{default:l(()=>[t(z,{modelValue:_.value,"onUpdate:modelValue":g[2]||(g[2]=w=>_.value=w),modelModifiers:{number:!0},width:"100px",onInput:b},null,8,["modelValue"])]),_:1})]),_:1}),t(q,null,{default:l(()=>[t(Q,null,{default:l(()=>[t(K,{type:"primary",onClick:h,disabled:y.value},{default:l(()=>[an]),_:1},8,["disabled"]),t(K,{disabled:p.value.length===0||y.value,type:"primary",onClick:g[3]||(g[3]=w=>n.value=!0)},{default:l(()=>[on]),_:1},8,["disabled"]),t(K,{type:"primary",disabled:p.value.length===0||y.value,onClick:g[4]||(g[4]=w=>e.value=!0)},{default:l(()=>[ln]),_:1},8,["disabled"]),t(K,{disabled:"",type:"primary",onClick:g[5]||(g[5]=w=>o.value=!0)},{default:l(()=>[sn]),_:1})]),_:1})]),_:1})]),_:1},512),rn,Qe(t(ue,{data:p.value.slice((E.value-1)*G.value,E.value*G.value),class:"address-table"},{default:l(()=>[t(Y,{prop:"id",label:"\u5730\u5740\u7F16\u53F7",width:"90"}),t(Y,{label:"\u5730\u5740",width:"500px"},{default:l(w=>[V("div",cn,[V("p",null,te(w.row.address),1),t(J,{content:"\u590D\u5236\u5730\u5740",placement:"top"},{default:l(()=>[t(K,{icon:B(Ze),circle:"",onClick:ce=>H(1,w.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024),t(J,{content:"\u590D\u5236\u79C1\u94A5",placement:"top"},{default:l(()=>[t(K,{icon:B(et),circle:"",onClick:ce=>H(0,w.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024)])]),_:1}),t(Y,{label:"BNB\u4F59\u989D",width:"300px"},{default:l(w=>[t(yt,{data:w.row,key:w.row.address,openTrans:f},null,8,["data"])]),_:1}),t(Y,{label:"StrayInu\u4F59\u989D",width:"240px"},{default:l(w=>[t(jt,{data:w.row,key:w.row.address,getBalance:B(F),openTrans:f},null,8,["data","getBalance"])]),_:1}),t(Y,null,{default:l(w=>[w.row.transFerpending?(C(),$("div",dn," \u8F6C\u8D26\u4E2D... ")):P("",!0),V("div",null,[w.row.transFerSuccess===1?(C(),$("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+w.row.txHash,target:"_blank"},"\u8F6C\u8D26\u6210\u529F",8,pn)):w.row.transFerSuccess===2?(C(),$("a",_n,"\u8F6C\u8D26\u5931\u8D25")):P("",!0)])]),_:1}),t(Y,null,{default:l(w=>[w.row.swapPending?(C(),$("div",mn," \u5151\u6362\u4E2D... ")):P("",!0),V("div",null,[w.row.swapSuccess===1?(C(),$("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+w.row.swapHash,target:"_blank"},"\u5151\u6362\u6210\u529F",8,fn)):w.row.swapSuccess===2?(C(),$("a",Fn,"\u5151\u6362\u5931\u8D25")):P("",!0)])]),_:1})]),_:1},8,["data"]),[[He,y.value]]),t(Tt,{dialogvisible:n.value,close:Ue,from:c.value,to:_.value},null,8,["dialogvisible","from","to"]),t(Oe,{class:"pagination",align:"right",layout:"prev, pager, next, jumper, total, sizes",onSizeChange:W,onCurrentChange:Ie,"current-page":E.value,"page-sizes":[20,50,100],"page-size":G.value,total:p.value.length},null,8,["current-page","page-size","total"]),t(Pt,{dialogSwapShow:e.value,close:Me,from:c.value,to:_.value},null,8,["dialogSwapShow","from","to"]),t(It,{data:s.value,close:a,strayInuTransfer:B(k)},null,8,["data","strayInuTransfer"]),t(tn,{showAssemble:o.value,close:Re},null,8,["showAssemble"])],64)}}const bn=N(M(I({},vn),{setup:hn}));var wn=ne(bn,[["__scopeId","data-v-033d0f60"]]);const yn=u=>(ie("data-v-743c4f7a"),u=u(),pe(),u),Bn={class:"add"},Dn=T("\u5BFC\u5165 "),gn=yn(()=>V("br",null,null,-1)),Cn=T("\u5DF2\u6FC0\u6D3B "),An=T("\u6FC0\u6D3B "),Sn=N({name:"Account"});function Tn(u){const e=S(""),n=L(),o=()=>{let f=e.value.trim();if(f){let a=pt(f);a?n.dispatch("addAccount",{id:a,mnemonic:f}).then(()=>{D.success("\u5BFC\u5165\u6210\u529F"),e.value=""}):D.error("\u52A9\u8BB0\u8BCD\u65E0\u6548")}else D.error("\u8BF7\u586B\u5165\u52A9\u8BB0\u8BCD")},s=f=>{n.commit("selectAccount",f)};return(f,a)=>{const m=i("el-input"),r=i("el-button"),d=i("el-table-column"),c=i("el-table");return C(),$(we,null,[V("div",Bn,[t(m,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=_=>e.value=_),placeholder:"\u8F93\u5165\u52A9\u8BB0\u8BCD"},null,8,["modelValue"]),t(r,{type:"primary",onClick:o},{default:l(()=>[Dn]),_:1})]),gn,t(c,{data:B(n).state.accounts,style:{width:"100%"}},{default:l(()=>[t(d,{prop:"mnemonic",label:"\u5DF2\u5BFC\u5165\u52A9\u8BB0\u8BCD"}),t(d,{width:"180",align:"right"},{default:l(_=>[_.row.id===B(n).state.currentAccount.id?(C(),R(r,{key:0,type:"primary",class:"btn",size:"small"},{default:l(()=>[Cn]),_:1})):(C(),R(r,{key:1,onClick:p=>s(_.row.id),class:"btn",size:"small"},{default:l(()=>[An]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])],64)}}const En=N(M(I({},Sn),{setup:Tn}));var Nn=ne(En,[["__scopeId","data-v-743c4f7a"]]),U;(function(u){u.HOME="HOME",u.ADDRESS="ADDRESS",u.ACCOUNT="ACCOUNT"})(U||(U={}));const kn=[{path:"/",name:U.HOME,redirect:{name:U.ADDRESS}},{path:"/address",name:U.ADDRESS,component:wn},{path:"/account",name:U.ACCOUNT,component:Nn}],_e=nt({history:ut(),routes:kn});_e.beforeEach(u=>{var e;return u.name===U.ADDRESS&&!((e=Te().accounts)==null?void 0:e.length)?(be.alert("\u60A8\u8FD8\u6CA1\u6709\u5BFC\u5165\u52A9\u8BB0\u8BCD\uFF0C\u73B0\u5728\u5BFC\u5165\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",showClose:!1,callback:()=>{_e.push({name:U.ACCOUNT})}}),!1):!0});const me=u=>(ie("data-v-e8f6cefc"),u=u(),pe(),u),xn={class:"sidebar"},Vn=me(()=>V("h1",null,"\u{1F436} StrayInu",-1)),$n=me(()=>V("p",null,"\u5730\u5740\u96C6",-1)),In=me(()=>V("p",null,"\u7BA1\u7406\u52A9\u8BB0\u8BCD",-1)),Mn=N({name:"Sidebar"});function Un(u){const e=at(),n=S("");e.afterEach(s=>{n.value=s.name});const o=s=>{e.push({name:s})};return(s,f)=>{const a=i("el-icon"),m=i("el-menu-item"),r=i("el-menu");return C(),$("div",xn,[Vn,t(r,{class:"nav",onSelect:o,"background-color":"transparent","text-color":"#fff"},{default:l(()=>[t(m,{index:B(U).ADDRESS,class:ye({"is-active":n.value===B(U).ADDRESS})},{default:l(()=>[t(a,null,{default:l(()=>[t(B(ot))]),_:1}),$n]),_:1},8,["index","class"]),t(m,{index:B(U).ACCOUNT,class:ye({"is-active":n.value===B(U).ACCOUNT})},{default:l(()=>[t(a,null,{default:l(()=>[t(B(lt))]),_:1}),In]),_:1},8,["index","class"])]),_:1})])}}const Rn=N(M(I({},Mn),{setup:Un}));var On=ne(Rn,[["__scopeId","data-v-e8f6cefc"]]);const Hn=N({setup(u){const e=L();return le(()=>{if(e.state.accounts.length){const n=e.state.currentAccountId||e.state.accounts[0].id;e.commit("selectAccount",n)}}),(n,o)=>{const s=i("el-aside"),f=i("router-view"),a=i("el-main"),m=i("el-container");return C(),R(m,{class:"wrapper"},{default:l(()=>[t(s,{class:"asaid"},{default:l(()=>[t(On)]),_:1}),t(a,{class:"main"},{default:l(()=>[t(f)]),_:1})]),_:1})}}}),{accounts:zn,currentAccountId:Pn}=Te(),qn={accounts:zn||[],currentAccount:void 0,currentAccountId:Pn,walletAddrs:[]};var Kn=st({state(){return qn},mutations:{addAccount(u,e){let n=!1;u.accounts.forEach(({id:o})=>{o===e.id&&(n=!0)}),n||(u.accounts.push(e),Se({accounts:u.accounts,currentAccountId:u.currentAccountId}))},selectAccount(u,e){let n=u.accounts[0];u.accounts.forEach(o=>{o.id===e&&(n=o)}),n&&(u.currentAccount=M(I({},n),{addressMap:{}}),Se({accounts:u.accounts,currentAccountId:n.id}))},updateAddressMap(u,e){u.currentAccount&&(u.currentAccount.addressMap[e.id]=e)},addWalletAddrs(u,e){e&&e.length>0&&(u.walletAddrs=[...e])}},actions:{addAccount(u,e){u.commit("addAccount",e),u.state.currentAccount||u.commit("selectAccount",e.id)}}});rt(Hn).use(ct).use(Kn).use(_e).mount("#app");
