var Ne=Object.defineProperty,$e=Object.defineProperties;var Ve=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var me=(n,e,a)=>e in n?Ne(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,M=(n,e)=>{for(var a in e||(e={}))Me.call(e,a)&&me(n,a,e[a]);if(_e)for(var a of _e(e))Ue.call(e,a)&&me(n,a,e[a]);return n},U=(n,e)=>$e(n,Ve(e));import{C as Q,u as j,W as X,g as Z,B as A,a as ee,h as Oe,m as Re,d as x,r as k,c as le,o as ue,b as i,e as N,f as b,t as te,i as H,j as t,w as o,k as z,l as B,R as fe,S as He,U as he,E as ve,n as w,p as I,q as E,_ as ze,s as Pe,v as Ke,F as Fe,x as se,y as re,z as Le,T as qe,K as We,H as Ye,A as je,D as Je,G as Ge,I as be,J as Qe,L as Xe,M as Ze,N as et,O as tt}from"./vendor.470767ca.js";const nt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function a(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerpolicy&&(l.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?l.credentials="include":c.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(c){if(c.ep)return;c.ep=!0;const l=a(c);fetch(c.href,l)}};nt();const ye=[{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"}],ce=[{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],de="0x4cb2b39391d2e2952b2b7473871f8f632993fa7a",at="0xae13d989dac2f0debff460ac112a837c89baa7cd",ut="0x9ac64cc6e4415144c455bd8e4837fea55603e5c3",ot="https://data-seed-prebsc-1-s1.binance.org:8545/",lt=()=>{const n=new Q(de,ce),a=j().state.currentAccount.addressMap,u=r=>{const{privateKey:_}=a[r];return new X(_,Z(ot))};return{contract:n,getBalance:async r=>{const{address:_}=a[r],s=u(r);return await n.connect(s).balanceOf(_)},transfer:async(r,_,s)=>{const{address:d}=a[_],m=u(r),p=A.from(s).mul(A.from(10).pow(9));try{const f=await n.connect(m).transfer(d,p).catch(()=>{a[r].transFerSuccess=2});a[r].transFerpending=!1,f&&(a[r].txHash=f==null?void 0:f.hash,a[r].transFerSuccess=1)}catch{a[r].transFerpending=!1,a[r].txHash=null,a[r].transFerSuccess=2}}}},st=n=>{try{Re(n)}catch{return!1}return!0},rt=n=>{try{return st(n)?Oe.sha256().update(n).digest("hex").substr(0,16):""}catch{return""}},we="STRAYINU_TOOLS_STORE",ge=n=>{try{localStorage[we]=JSON.stringify(n)}catch{}},Be=()=>{try{return JSON.parse(localStorage[we])}catch{return{}}},ct=n=>{let e=Math.floor(n/100),a=n%100;return`m/44'/60'/0'/${e}/${a}`},De=(n,e,a=18)=>{let u=n;Number(u)<1?u=A.from(n*1e4).mul(A.from(10).pow(a)).div(A.from(1e4)):u=A.from(n).mul(A.from(10).pow(a));let c=[],l=A.from(e),r=A.from(10).pow(a<18?6:15);for(let _=0;_<e;_++)if(l.eq(A.from(A.from(1))))c.push(u);else{let s=u.div(l).mul(2),d=A.from(new Date().getTime()).mul(r).mod(s);d.lte(r)&&(d=r),l=l.sub(A.from(1)),u=u.sub(d),c.push(d)}return c},Ce=n=>{let e=n;return e!==void 0&&(e=Number(e).toLocaleString("cn",{minimumFractionDigits:2,maximumFractionDigits:6})),e||""};new ee(0);new ee(1);new ee(9);const dt=new ee(10),it=(n,e=18)=>new ee(n).dividedBy(dt.pow(e)),Ae=(n,e=18)=>it(n,e).toFixed(6);class pt{constructor(e,a){this.privateKey=e,this.rpc=a||"https://data-seed-prebsc-1-s1.binance.org:8545/",this.routeContractAddr="0x9ac64cc6e4415144c455bd8e4837fea55603e5c3",this.bnbContractAddr="0xae13d989dac2f0debff460ac112a837c89baa7cd",this.strayInuContract="0x78867bbeef44f2326bf8ddd1941a4439382ef2a7",this.wallet=new X(e,Z(this.rpcURL)),this.address=this.wallet.address,this.chainId=this.wallet.chainId,this.deci=18}getContract(e,a){return new Q(e,a).connect(this.wallet)}async onSwapStrayInuToken(e){const a=Math.floor(new Date().getTime()/1e3+86400),u=[this.bnbContractAddr,this.strayInuContract],c=this.fromWei(e);return await this.getContract(this.routeContractAddr,ye).swapExactETHForTokens(0,u,a,this.address,{value:c})}async transferBNB(e,a,u=0){return await this.wallet.sendTransaction({to:a,value:this.fromWei(e),chainId:this.chainId,nonce:u})}transferStrayInu(e,a,u){return new Q("0x78867bbeef44f2326bf8ddd1941a4439382ef2a7",ce).connect(this.wallet).transfer(a,e,{nonce:u})}async getBalance(){const e=await this.wallet.getBalance();return console.log("balance",e),this.formatBalance(e)}formatBalance(e){return A.from(String(e)).div(A.from(10).pow(this.deci)).toString()}fromWei(e){return A.from(10).pow(this.deci).mul(A.from(e*1e4)).div(A.from(1e4))}}var ne=(n,e)=>{for(const[a,u]of e)n[a]=u;return n};const _t={class:"balance"},mt={key:0},ft=x({name:"Balance"});function ht(n){const e=n,a=k(!1),u=new pt(e.data.privateKey),c=new X(e.data.privateKey,Z("https://data-seed-prebsc-1-s1.binance.org:8545/")),l=async()=>{a.value=!0;const d=await c.getBalance();e.data.balance=Ae(d.toString()),a.value=!1};let r=le(()=>e.data.balance);ue(async()=>{e.data.balance===void 0&&await l()});const _=()=>{ve.prompt(`\u7F16\u53F7: ${e.data.id} \u4F59\u989D: ${r.value}`,"\u5151\u6362",{confirmButtonText:"\u5151\u6362",cancelButtonText:"\u53D6\u6D88",inputPlaceholder:"\u8BF7\u8F93\u5165\u5151\u6362\u91D1\u989D",beforeClose:async(d,m,p)=>{if(d==="confirm"){let f=Number(m.inputValue),h=Number(e.data.balance);if(!f)w.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");else if(f>h)w.error("\u4F59\u989D\u4E0D\u8DB3");else try{const S=await u.onSwapStrayInuToken(f);p()}catch(S){console.error(S),w.error("\u5151\u6362\u5931\u8D25")}}else p()}}).catch(()=>{})},s=()=>{e.openTrans(e.data.id,"BNB")};return(d,m)=>{const p=i("el-button"),f=i("el-tooltip");return B(),N("div",_t,[b(r)?(B(),N("p",mt,te(b(r)),1)):H("",!0),t(f,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:o(()=>[t(p,{icon:b(fe),circle:"",loading:a.value,onClick:l,size:"mini"},null,8,["icon","loading"])]),_:1}),e.data.balance>0?(B(),z(f,{key:1,content:"\u5151\u6362",placement:"top"},{default:o(()=>[t(p,{icon:b(He),circle:"",onClick:_,size:"mini"},null,8,["icon"])]),_:1})):H("",!0),e.data.balance>0?(B(),z(f,{key:2,content:"\u8F6C\u8D26",placement:"top"},{default:o(()=>[t(p,{icon:b(he),circle:"",onClick:s,size:"mini"},null,8,["icon"])]),_:1})):H("",!0)])}}const vt=x(U(M({},ft),{props:{data:null,openTrans:null},setup:ht}));var Ft=ne(vt,[["__scopeId","data-v-1d1ff7de"]]);const bt=E("-"),yt={class:"dialog-footer"},wt=E("\u53D6\u6D88"),gt=E("\u786E\u5B9A"),Bt=x({name:"TransferDialog"});function Dt(n){const e=n,u=j().state.currentAccount.addressMap,c=()=>{e.close()},l=k({transferToken:"",transferAmount:"",from:"",to:"",startNo:"",endNo:""}),r=async()=>{const{transferToken:_,transferAmount:s,from:d,startNo:m=1,endNo:p=2}=l.value;if(!_&&!s&&!d&&m&&!p){w.error("\u586B\u5199\u8F6C\u8D26\u4FE1\u606F");return}if(Object.keys(u).length<p){w.error("\u7ED3\u675F\u5730\u5740\u7F16\u7801\u8D85\u51FA\u5DF2\u751F\u6210\u5730\u5740\u6570\u91CF");return}if(d==m){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(d==p){w.error("\u7ED3\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}let f=p-m+1;const h=De(Number(s),f,_==="BNB"?18:9),{privateKey:S}=u[d],D=new Q(de,ce),V=new X(S,Z("https://data-seed-prebsc-1-s1.binance.org:8545/"));c();for(let v=m;v<=p;v++)u[v].transFerpending=!0;for(let v=0,J=h.length;v<J;v++){const C=m+v,{address:O}=u[C];if(_==="BNB")try{const g=await V.sendTransaction({to:O,value:h[v],chainId:97}).catch(()=>{u[C].transFerSuccess=2});u[C].transFerpending=!1,g&&(u[C].txHash=g==null?void 0:g.hash,u[C].transFerSuccess=1)}catch{u[C].transFerpending=!1,u[C].txHash=null,u[C].transFerSuccess=2}if(_==="STRAYINU")try{const g=await D.connect(V).transfer(O,h[v]).catch(()=>{u[C].transFerSuccess=2});u[C].transFerpending=!1,g&&(u[C].txHash=g==null?void 0:g.hash,u[C].transFerSuccess=1)}catch{u[C].transFerpending=!1,u[C].txHash=null,u[C].transFerSuccess=2}}};return(_,s)=>{const d=i("el-option"),m=i("el-select"),p=i("el-form-item"),f=i("el-input"),h=i("el-col"),S=i("el-form"),D=i("el-button"),V=i("el-dialog");return B(),z(V,{"before-close":c,modelValue:e.dialogvisible,"onUpdate:modelValue":s[5]||(s[5]=v=>e.dialogvisible=v),title:"\u6279\u91CF\u8F6C\u8D26",width:"42%"},{footer:o(()=>[I("span",yt,[t(D,{onClick:c},{default:o(()=>[wt]),_:1}),t(D,{type:"primary",onClick:r},{default:o(()=>[gt]),_:1})])]),default:o(()=>[t(S,{"label-position":"top","label-width":"100%",model:l.value},{default:o(()=>[t(p,{label:"\u9009\u62E9\u8F6C\u8D26\u7684Token",required:""},{default:o(()=>[t(m,{"fit-input-width":"",modelValue:l.value.transferToken,"onUpdate:modelValue":s[0]||(s[0]=v=>l.value.transferToken=v),placeholder:"\u9009\u62E9\u8F6C\u8D26\u5E01\u79CD"},{default:o(()=>[t(d,{label:"BNB",value:"BNB"}),t(d,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"\u8F6C\u8D26\u603B\u91CF",required:""},{default:o(()=>[t(f,{modelValue:l.value.transferAmount,"onUpdate:modelValue":s[1]||(s[1]=v=>l.value.transferAmount=v),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u603B\u91D1\u989D"},null,8,["modelValue"])]),_:1}),t(p,{label:"\u8F6C\u8D26\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(f,{modelValue:l.value.from,"onUpdate:modelValue":s[2]||(s[2]=v=>l.value.from=v),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u5730\u5740\u7F16\u53F7\uFF08\u4F8B\uFF1A\u8F93\u51650\u8868\u793A\u7528\u7B2C\u4E00\u4E2A\u5730\u5740\u8F6C\u8D26\uFF09"},null,8,["modelValue"])]),_:1}),t(p,{label:"\u6536\u5E10\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(h,{span:11},{default:o(()=>[t(f,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:l.value.startNo,"onUpdate:modelValue":s[3]||(s[3]=v=>l.value.startNo=v),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(h,{span:11},{default:o(()=>[bt]),_:1}),t(h,{span:11},{default:o(()=>[t(f,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:l.value.endNo,"onUpdate:modelValue":s[4]||(s[4]=v=>l.value.endNo=v),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const Ct=x(U(M({},Bt),{props:{close:null,dialogvisible:null},setup:Dt})),At=E("\xA0\xA0\xA0\xA0 "),St={class:"dialog-footer"},Tt=E("\u53D6\u6D88"),xt=E("\u8F6C\u8D26"),Et=x({name:"ModalTransferInline"});function kt(n){const e=n,a=()=>{e.close()},u=()=>{e.close()},c=async()=>{var m,p,f;let _=Number(l.value.to),s=Number(l.value.amount),d=Number(((m=e.data)==null?void 0:m.token)==="BNB"?e.data.balance:e.data.strayInuBalance);if(!l.value.to){w.error("\u8BF7\u586B\u5199\u8F6C\u5165\u7F16\u53F7");return}if(_>1e3||_<0||Math.floor(_)!==_){w.error("\u7F16\u53F7\u8303\u56F40 ~ 10000");return}if(_===e.data.id){w.error("\u8F6C\u5165\u7F16\u53F7\u4E0D\u80FD\u548C\u5F53\u524D\u7F16\u53F7\u76F8\u540C");return}if(s<0||!s){w.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");return}if(s>d){w.error("\u4F59\u989D\u4E0D\u8DB3");return}((p=e.data)==null?void 0:p.token)==="StrayInu"?(await e.strayInuTransfer((f=e.data)==null?void 0:f.id,_,Math.floor(s)),e.close()):w.warning("BNB\u8F6C\u8D26\u5F00\u53D1\u4E2D...")},l=k({to:"",amount:""}),r=le(()=>{var _,s,d,m;return((_=e.data)==null?void 0:_.token)==="BNB"?(s=e.data)==null?void 0:s.balance:((d=e.data)==null?void 0:d.token)==="StrayInu"?(m=e.data)==null?void 0:m.strayInuBalance:"0"});return(_,s)=>{var S;const d=i("el-form-item"),m=i("el-input"),p=i("el-form"),f=i("el-button"),h=i("el-dialog");return B(),z(h,{modelValue:e.data,"onUpdate:modelValue":s[2]||(s[2]=D=>e.data=D),"before-close":a,title:(((S=e.data)==null?void 0:S.token)||"")+"\u8F6C\u8D26",width:"480px"},{footer:o(()=>[I("span",St,[t(f,{onClick:u},{default:o(()=>[Tt]),_:1}),t(f,{type:"primary",onClick:c},{default:o(()=>[xt]),_:1})])]),default:o(()=>[t(p,{model:l.value,"label-width":"100px"},{default:o(()=>[t(d,{label:"\u5F53\u524D\u7F16\u53F7"},{default:o(()=>{var D;return[I("span",null,te((D=e.data)==null?void 0:D.id),1),At,I("span",null,"\u4F59\u989D\xA0\xA0"+te(b(Ce)(b(r))),1)]}),_:1}),t(d,{label:"\u8F6C\u5165\u7F16\u53F7"},{default:o(()=>[t(m,{modelValue:l.value.to,"onUpdate:modelValue":s[0]||(s[0]=D=>l.value.to=D),placeholder:"0~10000\u6574\u6570",type:"number"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u8F6C\u8D26\u91D1\u989D"},{default:o(()=>[t(m,{modelValue:l.value.amount,"onUpdate:modelValue":s[1]||(s[1]=D=>l.value.amount=D),placeholder:"\u6B63\u6574\u6570",type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}const It=x(U(M({},Et),{props:{data:null,close:null,strayInuTransfer:null},setup:kt})),Nt=E("-"),$t={class:"dialog-footer"},Vt=E("\u53D6\u6D88"),Mt=E("\u786E\u5B9A"),Ut=x({name:"dialogSwapShow"});function Ot(n){const e=n,u=j().state.currentAccount.addressMap,c=()=>{e.close()},l=k({swapToken:"STRAYINU",swapAmount:"",startNo:"",endNo:""}),r=async()=>{const{swapToken:_,swapAmount:s,startNo:d=0,endNo:m=0}=l.value;if(!_&&!s&&!d&&!m){w.error("\u586B\u5199\u5151\u6362\u4FE1\u606F");return}if(Object.keys(u).length<m){w.error("\u7ED3\u675F\u5730\u5740\u7F16\u7801\u5927\u4E8E\u8D85\u51FA\u5DF2\u751F\u6210\u5730\u5740\u6570\u91CF");return}if(m==d){w.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u7ED3\u59CB\u5730\u5740\u7F16\u53F7");return}const p=De(s,m-d+1,18);p.forEach((h,S)=>{console.log(S+":",Ae(h.toString(),18))});const f=new Q(ut,ye);c();for(let h=d,S=0;h<=m;h++,S++){const{privateKey:D,address:V}=u[h],v=Z("https://data-seed-prebsc-1-s1.binance.org:8545/"),J=new X(D,v),C=A.from(Math.floor(new Date().getTime()/1e3+86400)),O=[at,de];u[h].swapPending=!0;try{const g=await f.connect(J).swapExactETHForTokens(0,O,V.slice(2),C,{value:p[S]}).catch(()=>{u[h].swapSuccess=2});u[h].swapPending=!1,g&&(u[h].swapHash=g==null?void 0:g.hash,u[h].swapSuccess=1)}catch{u[h].swapPending=!1,u[h].swapHash=null,u[h].swapSuccess=2}}};return(_,s)=>{const d=i("el-option"),m=i("el-select"),p=i("el-form-item"),f=i("el-input"),h=i("el-col"),S=i("el-form"),D=i("el-button"),V=i("el-dialog");return B(),z(V,{modelValue:e.dialogSwapShow,"onUpdate:modelValue":s[4]||(s[4]=v=>e.dialogSwapShow=v),"before-close":c,title:"\u6279\u91CF\u5151\u6362",width:"42%"},{footer:o(()=>[I("span",$t,[t(D,{onClick:c},{default:o(()=>[Vt]),_:1}),t(D,{type:`
          primary`,onClick:r},{default:o(()=>[Mt]),_:1})])]),default:o(()=>[t(S,{"label-position":"top","label-width":"100%",model:l.value},{default:o(()=>[t(p,{label:"\u9009\u62E9\u8981\u5151\u6362\u7684Token",required:""},{default:o(()=>[t(m,{"fit-input-width":"",modelValue:l.value.swapToken,"onUpdate:modelValue":s[0]||(s[0]=v=>l.value.swapToken=v),placeholder:"\u9009\u62E9\u8F6C\u8D26\u5E01\u79CD"},{default:o(()=>[t(d,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"\u652F\u4ED8\u7684\u8F6C\u8D26\u91D1\u989D(BNB)",required:""},{default:o(()=>[t(f,{modelValue:l.value.swapAmount,"onUpdate:modelValue":s[1]||(s[1]=v=>l.value.swapAmount=v),placeholder:"\u8BF7\u8F93\u5165\u5151\u6362\u91D1\u989D(BNB)"},null,8,["modelValue"])]),_:1}),t(p,{label:"\u5151\u6362\u5730\u5740\u7F16\u53F7",required:""},{default:o(()=>[t(h,{span:11},{default:o(()=>[t(f,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:l.value.startNo,"onUpdate:modelValue":s[2]||(s[2]=v=>l.value.startNo=v),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(h,{span:11},{default:o(()=>[Nt]),_:1}),t(h,{span:11},{default:o(()=>[t(f,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:l.value.endNo,"onUpdate:modelValue":s[3]||(s[3]=v=>l.value.endNo=v),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const Rt=x(U(M({},Ut),{props:{close:null,dialogSwapShow:null},setup:Ot}));const Ht={class:"balance"},zt={key:0},Pt=x({name:"StrayInuBalance"});function Kt(n){const e=n,a=k(!1),u=async()=>{a.value=!0;try{let r=await e.getBalance(e.data.id);e.data.strayInuBalance=r.div(A.from(10).pow(9)).toString()||"0",a.value=!1}catch{e.data.strayInuBalance="0",a.value=!1}};let c=le(()=>Ce(e.data.strayInuBalance));ue(async()=>{e.data.strayInuBalance===void 0&&await u()});const l=()=>{e.openTrans(e.data.id,"StrayInu")};return(r,_)=>{var m;const s=i("el-button"),d=i("el-tooltip");return B(),N("div",Ht,[b(c)?(B(),N("p",zt,te(b(c)),1)):H("",!0),t(d,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:o(()=>[t(s,{icon:b(fe),circle:"",loading:a.value,onClick:u,size:"mini"},null,8,["icon","loading"])]),_:1}),Number(((m=e.data)==null?void 0:m.strayInuBalance)||0)>0?(B(),z(d,{key:1,content:"\u8F6C\u8D26",placement:"top"},{default:o(()=>[t(s,{icon:b(he),circle:"",onClick:l,size:"mini"},null,8,["icon"])]),_:1})):H("",!0)])}}const Lt=x(U(M({},Pt),{props:{data:null,getBalance:null,openTrans:null},setup:Kt}));var qt=ne(Lt,[["__scopeId","data-v-4f00b14b"]]);const Wt=n=>(se("data-v-03ea67ec"),n=n(),re(),n),Yt=E("-"),jt=E("\u751F\u6210\u5730\u5740 "),Jt=E("\u6279\u91CF\u8F6C\u8D26 "),Gt=E("\u6279\u91CF\u5151\u6362 "),Qt=E("\u6C47\u805Atoken "),Xt=Wt(()=>I("br",null,null,-1)),Zt={class:"address-table-row"},en={key:0},tn=["href"],nn={key:1,class:"error"},an={key:0},un=["href"],on={key:1,class:"error"},ln=x({name:"Address"});function sn(n){const e=k(!1),a=k(!1),u=k(null),c=(T,y)=>{u.value=U(M({},f[T]),{token:y})},l=()=>{u.value=null},r=j(),{toClipboard:_}=ze(),s=r.state.currentAccount.mnemonic,d=k(0),m=k(19),p=k([]),f=r.state.currentAccount.addressMap,h=k(!1),{getBalance:S,transfer:D}=lt(),V=()=>{let T=d.value,y=m.value;if(!(T!==""&&T>=0&&y>=0&&T<=y)){w.error(T>y?"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7F16\u53F7\u8303\u56F4":"\u7F16\u53F7\u8303\u56F4 0~10000");return}const R=()=>{const P=Ye.fromMnemonic(s);return new Promise((G,K)=>{try{let Y=[];for(let q=T;q<=y;q++){let L=ct(q),W=f[q];if(!W){let ae=P.derivePath(L);W={id:q,address:ae.address,privateKey:ae.privateKey},r.commit("updateAddressMap",W)}Y.push(W)}G(Y)}catch(Y){K(Y)}})};h.value=!0,setTimeout(()=>{R().then(P=>{p.value=P,O.value=1}).finally(()=>{h.value=!1})},200)};ue(()=>{V()});const v=T=>{parseInt(T)>=1e4&&(d.value=1e4)},J=T=>{parseInt(T)>=1e4&&(m.value=1e4)},C=async(T,y)=>{const R=r.state.currentAccount.addressMap[y];if(R)try{await _(T===0?R.privateKey:R.address),w.success("\u5DF2\u590D\u5236")}catch{w.success("\u590D\u5236\u5931\u8D25")}else w.success("\u590D\u5236\u5931\u8D25")},O=k(1),g=k(20),Se=T=>{g.value=T},Te=T=>{O.value=T},xe=()=>{e.value=!1},Ee=()=>{a.value=!1};return(T,y)=>{const R=i("el-input"),P=i("el-form-item"),G=i("el-col"),K=i("el-button"),Y=i("el-row"),q=i("el-form"),L=i("el-table-column"),W=i("el-tooltip"),ae=i("el-table"),ke=i("el-pagination"),Ie=Pe("loading");return B(),N(Fe,null,[t(q,{ref:(F,oe)=>{oe.form=F},"label-width":"120px"},{default:o(()=>[t(P,{label:"\u52A9\u8BB0\u8BCD"},{default:o(()=>[t(R,{modelValue:b(s),"onUpdate:modelValue":y[0]||(y[0]=F=>Le(s)?s.value=F:null),disabled:"",placeholder:"\u52A9\u8BB0\u8BCD"},null,8,["modelValue"])]),_:1}),t(P,{label:"\u7F16\u53F7\u8303\u56F4"},{default:o(()=>[t(G,{span:11},{default:o(()=>[t(R,{modelValue:d.value,"onUpdate:modelValue":y[1]||(y[1]=F=>d.value=F),modelModifiers:{number:!0},width:"100px",onInput:v},null,8,["modelValue"])]),_:1}),t(G,{span:11},{default:o(()=>[Yt]),_:1}),t(G,{span:11},{default:o(()=>[t(R,{modelValue:m.value,"onUpdate:modelValue":y[2]||(y[2]=F=>m.value=F),modelModifiers:{number:!0},width:"100px",onInput:J},null,8,["modelValue"])]),_:1})]),_:1}),t(P,null,{default:o(()=>[t(Y,null,{default:o(()=>[t(K,{type:"primary",onClick:V,disabled:h.value},{default:o(()=>[jt]),_:1},8,["disabled"]),t(K,{disabled:p.value.length===0||h.value,type:"primary",onClick:y[3]||(y[3]=F=>a.value=!0)},{default:o(()=>[Jt]),_:1},8,["disabled"]),t(K,{type:"primary",disabled:p.value.length==0||h.value,onClick:y[4]||(y[4]=F=>e.value=!0)},{default:o(()=>[Gt]),_:1},8,["disabled"]),t(K,{disabled:"",onClick:y[5]||(y[5]=F=>a.value=!0)},{default:o(()=>[Qt]),_:1})]),_:1})]),_:1})]),_:1},512),Xt,Ke(t(ae,{data:p.value.slice((O.value-1)*g.value,O.value*g.value),class:"address-table"},{default:o(()=>[t(L,{prop:"id",label:"\u5730\u5740\u7F16\u53F7",width:"90"}),t(L,{label:"\u5730\u5740",width:"500px"},{default:o(F=>[I("div",Zt,[I("p",null,te(F.row.address),1),t(W,{content:"\u590D\u5236\u5730\u5740",placement:"top"},{default:o(()=>[t(K,{icon:b(qe),circle:"",onClick:oe=>C(1,F.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024),t(W,{content:"\u590D\u5236\u79C1\u94A5",placement:"top"},{default:o(()=>[t(K,{icon:b(We),circle:"",onClick:oe=>C(0,F.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024)])]),_:1}),t(L,{label:"BNB\u4F59\u989D",width:"300px"},{default:o(F=>[t(Ft,{data:F.row,key:F.row.address,openTrans:c},null,8,["data"])]),_:1}),t(L,{label:"StrayInu\u4F59\u989D",width:"240px"},{default:o(F=>[t(qt,{data:F.row,key:F.row.address,getBalance:b(S),openTrans:c},null,8,["data","getBalance"])]),_:1}),t(L,null,{default:o(F=>[F.row.transFerpending?(B(),N("div",en," \u8F6C\u8D26\u4E2D... ")):H("",!0),I("div",null,[F.row.transFerSuccess===1?(B(),N("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+F.row.txHash,target:"_blank"},"\u8F6C\u8D26\u6210\u529F",8,tn)):F.row.transFerSuccess===2?(B(),N("a",nn,"\u8F6C\u8D26\u5931\u8D25")):H("",!0)])]),_:1}),t(L,null,{default:o(F=>[F.row.swapPending?(B(),N("div",an," \u5151\u6362\u4E2D... ")):H("",!0),I("div",null,[F.row.swapSuccess===1?(B(),N("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+F.row.swapHash,target:"_blank"},"\u5151\u6362\u6210\u529F",8,un)):F.row.swapSuccess===2?(B(),N("a",on,"\u5151\u6362\u5931\u8D25")):H("",!0)])]),_:1})]),_:1},8,["data"]),[[Ie,h.value]]),t(Ct,{dialogvisible:a.value,close:Ee},null,8,["dialogvisible"]),t(ke,{class:"pagination",align:"right",layout:"prev, pager, next, jumper, total, sizes",onSizeChange:Se,onCurrentChange:Te,"current-page":O.value,"page-sizes":[20,50,100],"page-size":g.value,total:p.value.length},null,8,["current-page","page-size","total"]),t(Rt,{dialogSwapShow:e.value,close:xe},null,8,["dialogSwapShow"]),t(It,{data:u.value,close:l,strayInuTransfer:b(D)},null,8,["data","strayInuTransfer"])],64)}}const rn=x(U(M({},ln),{setup:sn}));var cn=ne(rn,[["__scopeId","data-v-03ea67ec"]]);const dn=n=>(se("data-v-743c4f7a"),n=n(),re(),n),pn={class:"add"},_n=E("\u5BFC\u5165 "),mn=dn(()=>I("br",null,null,-1)),fn=E("\u5DF2\u6FC0\u6D3B "),hn=E("\u6FC0\u6D3B "),vn=x({name:"Account"});function Fn(n){const e=k(""),a=j(),u=()=>{let l=e.value.trim();if(l){let r=rt(l);r?a.dispatch("addAccount",{id:r,mnemonic:l}).then(()=>{w.success("\u5BFC\u5165\u6210\u529F"),e.value=""}):w.error("\u52A9\u8BB0\u8BCD\u65E0\u6548")}else w.error("\u8BF7\u586B\u5165\u52A9\u8BB0\u8BCD")},c=l=>{a.commit("selectAccount",l)};return(l,r)=>{const _=i("el-input"),s=i("el-button"),d=i("el-table-column"),m=i("el-table");return B(),N(Fe,null,[I("div",pn,[t(_,{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=p=>e.value=p),placeholder:"\u8F93\u5165\u52A9\u8BB0\u8BCD"},null,8,["modelValue"]),t(s,{type:"primary",onClick:u},{default:o(()=>[_n]),_:1})]),mn,t(m,{data:b(a).state.accounts,style:{width:"100%"}},{default:o(()=>[t(d,{prop:"mnemonic",label:"\u5DF2\u5BFC\u5165\u52A9\u8BB0\u8BCD"}),t(d,{width:"180",align:"right"},{default:o(p=>[p.row.id===b(a).state.currentAccount.id?(B(),z(s,{key:0,type:"primary",class:"btn",size:"small"},{default:o(()=>[fn]),_:1})):(B(),z(s,{key:1,onClick:f=>c(p.row.id),class:"btn",size:"small"},{default:o(()=>[hn]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])],64)}}const bn=x(U(M({},vn),{setup:Fn}));var yn=ne(bn,[["__scopeId","data-v-743c4f7a"]]),$;(function(n){n.HOME="HOME",n.ADDRESS="ADDRESS",n.ACCOUNT="ACCOUNT"})($||($={}));const wn=[{path:"/",name:$.HOME,redirect:{name:$.ADDRESS}},{path:"/address",name:$.ADDRESS,component:cn},{path:"/account",name:$.ACCOUNT,component:yn}],ie=je({history:Je(),routes:wn});ie.beforeEach(n=>{var e;return n.name===$.ADDRESS&&!((e=Be().accounts)==null?void 0:e.length)?(ve.alert("\u60A8\u8FD8\u6CA1\u6709\u5BFC\u5165\u52A9\u8BB0\u8BCD\uFF0C\u73B0\u5728\u5BFC\u5165\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",showClose:!1,callback:()=>{ie.push({name:$.ACCOUNT})}}),!1):!0});const pe=n=>(se("data-v-2d9328a2"),n=n(),re(),n),gn={class:"sidebar"},Bn=pe(()=>I("h1",null,"\u{1F436} Strayinu",-1)),Dn=pe(()=>I("p",null,"\u5730\u5740\u96C6",-1)),Cn=pe(()=>I("p",null,"\u7BA1\u7406\u52A9\u8BB0\u8BCD",-1)),An=x({name:"Sidebar"});function Sn(n){const e=Ge(),a=k("");e.afterEach(c=>{a.value=c.name});const u=c=>{e.push({name:c})};return(c,l)=>{const r=i("el-icon"),_=i("el-menu-item"),s=i("el-menu");return B(),N("div",gn,[Bn,t(s,{class:"nav",onSelect:u,"background-color":"transparent","text-color":"#fff"},{default:o(()=>[t(_,{index:b($).ADDRESS,class:be({"is-active":a.value===b($).ADDRESS})},{default:o(()=>[t(r,null,{default:o(()=>[t(b(Qe))]),_:1}),Dn]),_:1},8,["index","class"]),t(_,{index:b($).ACCOUNT,class:be({"is-active":a.value===b($).ACCOUNT})},{default:o(()=>[t(r,null,{default:o(()=>[t(b(Xe))]),_:1}),Cn]),_:1},8,["index","class"])]),_:1})])}}const Tn=x(U(M({},An),{setup:Sn}));var xn=ne(Tn,[["__scopeId","data-v-2d9328a2"]]);const En=x({setup(n){const e=j();return ue(()=>{if(e.state.accounts.length){const a=e.state.currentAccountId||e.state.accounts[0].id;e.commit("selectAccount",a)}}),(a,u)=>{const c=i("el-aside"),l=i("router-view"),r=i("el-main"),_=i("el-container");return B(),z(_,{class:"wrapper"},{default:o(()=>[t(c,{class:"asaid"},{default:o(()=>[t(xn)]),_:1}),t(r,{class:"main"},{default:o(()=>[t(l)]),_:1})]),_:1})}}}),{accounts:kn,currentAccountId:In}=Be(),Nn={accounts:kn||[],currentAccount:void 0,currentAccountId:In,walletAddrs:[]};var $n=Ze({state(){return Nn},mutations:{addAccount(n,e){let a=!1;n.accounts.forEach(({id:u})=>{u===e.id&&(a=!0)}),a||(n.accounts.push(e),ge({accounts:n.accounts,currentAccountId:n.currentAccountId}))},selectAccount(n,e){let a=n.accounts[0];n.accounts.forEach(u=>{u.id===e&&(a=u)}),a&&(n.currentAccount=U(M({},a),{addressMap:{}}),ge({accounts:n.accounts,currentAccountId:a.id}))},updateAddressMap(n,e){n.currentAccount&&(n.currentAccount.addressMap[e.id]=e)},addWalletAddrs(n,e){e&&e.length>0&&(n.walletAddrs=[...e])}},actions:{addAccount(n,e){n.commit("addAccount",e),n.state.currentAccount||n.commit("selectAccount",e.id)}}});et(En).use(tt).use($n).use(ie).mount("#app");
