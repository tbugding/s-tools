var qe=Object.defineProperty,Ke=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var Fe=(u,e,n)=>e in u?qe(u,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[e]=n,I=(u,e)=>{for(var n in e||(e={}))Le.call(e,n)&&Fe(u,n,e[n]);if(fe)for(var n of fe(e))We.call(e,n)&&Fe(u,n,e[n]);return u},M=(u,e)=>Ke(u,Ye(e));import{B as Z,W as ee,h as je,m as Je,a as A,C as ue,u as Y,g as ae,d as N,r as S,c as de,o as oe,b as i,e as $,f as y,t as te,i as q,j as t,w as l,k as H,l as C,R as ve,S as Ge,U as he,E as be,n as D,p as V,q as T,_ as Qe,s as Xe,v as Ze,F as we,x as ie,y as pe,z as et,T as tt,K as nt,H as ut,A as at,D as ot,G as lt,I as Be,J as st,L as rt,M as ct,N as dt,O as it}from"./vendor.8b386b25.js";const pt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const a of f.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerpolicy&&(f.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?f.credentials="include":s.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(s){if(s.ep)return;s.ep=!0;const f=n(s);fetch(s.href,f)}};pt();const ye=[{inputs:[{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"swapExactETHForTokens",outputs:[{internalType:"uint256[]",name:"amounts",type:"uint256[]"}],stateMutability:"payable",type:"function"}],De=[{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],le="0x4cb2b39391d2e2952b2b7473871f8f632993fa7a",ge="0xae13d989dac2f0debff460ac112a837c89baa7cd",Ce="0x9ac64cc6e4415144c455bd8e4837fea55603e5c3",se="https://data-seed-prebsc-1-s1.binance.org:8545/",_t=u=>{try{Je(u)}catch{return!1}return!0},mt=u=>{try{return _t(u)?je.sha256().update(u).digest("hex").substr(0,16):""}catch{return""}},Ae="STRAYINU_TOOLS_STORE",Se=u=>{try{localStorage[Ae]=JSON.stringify(u)}catch{}},Te=()=>{try{return JSON.parse(localStorage[Ae])}catch{return{}}},Ee=u=>{let e=Math.floor(u/100),n=u%100;return`m/44'/60'/0'/${e}/${n}`},Ne=(u,e)=>{const n=Ee(u);return ee.fromMnemonic(e,n).address},ke=(u,e,n=18)=>{let o=u;Number(o)<1?o=A.from(u*1e4).mul(A.from(10).pow(n)).div(A.from(1e4)):o=A.from(u).mul(A.from(10).pow(n));let s=[],f=A.from(e),a=A.from(10).pow(n<18?6:15);for(let m=0;m<e;m++)if(f.eq(A.from(A.from(1))))s.push(o);else{let r=o.div(f).mul(2),d=A.from(new Date().getTime()).mul(a).mod(r);d.lte(a)&&(d=a),f=f.sub(A.from(1)),o=o.sub(d),s.push(d)}return s},xe=u=>{let e=u;return e!==void 0&&(e=Number(e).toLocaleString("cn",{minimumFractionDigits:2,maximumFractionDigits:6})),e||""};new Z(0);new Z(1);new Z(9);const ft=new Z(10),Ft=(u,e=18)=>new Z(u).dividedBy(ft.pow(e)),Ve=(u,e=18)=>Ft(u,e).toFixed(6),vt=()=>{const u=new ue(le,De),e=Y(),n=e.state.currentAccount.addressMap,o=a=>{const{privateKey:m}=n[a];return new ee(m,ae(se))};return{contract:u,getBalance:async a=>{const{address:m}=n[a],r=o(a);return await u.connect(r).balanceOf(m)},transfer:async(a,m,r)=>{const d=n[m]?n[m].address:Ne(m,e.state.currentAccount.mnemonic),c=o(a),_=A.from(r).mul(A.from(10).pow(9));try{n[a].transFerpending=!0,n[a].transFerSuccess=0;const p=await u.connect(c).transfer(d,_).catch(()=>{n[a].transFerSuccess=2});n[a].transFerpending=!1,p&&(n[a].txHash=p==null?void 0:p.hash,n[a].transFerSuccess=1)}catch{n[a].transFerpending=!1,n[a].txHash=null,n[a].transFerSuccess=2}}}},$e=()=>{const u=new ue(Ce,ye),e=Y(),n=e.state.currentAccount.addressMap,o=a=>{const{privateKey:m}=n[a],r=ae(se);return new ee(m,r)};return{contract:u,getWallet:o,swap:async(a,m)=>{const r=o(a),{address:d}=n[a],c=A.from(Math.floor(new Date().getTime()/1e3+86400)),_=[ge,le];n[a].swapPending=!0;const p=A.from(Math.floor(m*1e4)).mul(A.from(10).pow(14));try{n[a].swapPending=!0,n[a].swapSuccess=0;const v=await u.connect(r).swapExactETHForTokens(0,_,d,c,{value:p}).catch(()=>{n[a].swapSuccess=2});n[a].swapPending=!1,v&&(n[a].swapHash=v==null?void 0:v.hash,n[a].swapSuccess=1)}catch{n[a].swapPending=!1,n[a].swapHash=null,n[a].swapSuccess=2}},transfer:async(a,m,r)=>{try{const d=n[m]?n[m].address:Ne(m,e.state.currentAccount.mnemonic),c=o(a),_=A.from(Math.floor(r*1e4)).mul(A.from(10).pow(14));n[a].transFerpending=!0,n[a].transFerSuccess=0;const p=await c.sendTransaction({to:d,value:_,chainId:c.getChainId()}).catch(()=>{n[a].transFerSuccess=2});n[a].transFerpending=!1,p&&(n[a].txHash=p==null?void 0:p.hash,n[a].transFerSuccess=1)}catch{n[a].transFerpending=!1,n[a].txHash=null,n[a].transFerSuccess=2}}}};var ne=(u,e)=>{for(const[n,o]of e)u[n]=o;return u};const ht={class:"balance"},bt={key:0},wt=N({name:"Balance"});function Bt(u){const e=u,n=S(!1),{getWallet:o,swap:s}=$e(),f=o(e.data.id),a=async()=>{n.value=!0;const c=await f.getBalance();e.data.balance=Ve(c.toString()),n.value=!1};let m=de(()=>e.data.balance);oe(async()=>{e.data.balance===void 0&&await a()});const r=()=>{be.prompt(`\u7F16\u53F7: ${e.data.id} \u4F59\u989D: ${m.value}`,"\u5151\u6362",{confirmButtonText:"\u5151\u6362",cancelButtonText:"\u53D6\u6D88",inputPlaceholder:"\u5151\u6362\u91D1\u989D\uFF0C\u6700\u591A4\u4F4D\u5C0F\u6570",beforeClose:async(c,_,p)=>{if(c==="confirm"){let v=Number(_.inputValue),B=Number(e.data.balance);if(!v)D.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");else if(v>B)D.error("\u4F59\u989D\u4E0D\u8DB3");else try{p(),await s(e.data.id,v)}catch(F){console.error(F),D.error("\u5151\u6362\u5931\u8D25")}}else p()}}).catch(()=>{})},d=()=>{e.openTrans(e.data.id,"BNB")};return(c,_)=>{const p=i("el-button"),v=i("el-tooltip");return C(),$("div",ht,[y(m)?(C(),$("p",bt,te(y(m)),1)):q("",!0),t(v,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:l(()=>[t(p,{icon:y(ve),circle:"",loading:n.value,onClick:a,size:"mini"},null,8,["icon","loading"])]),_:1}),e.data.balance>0?(C(),H(v,{key:1,content:"\u5151\u6362",placement:"top"},{default:l(()=>[t(p,{icon:y(Ge),circle:"",onClick:r,size:"mini"},null,8,["icon"])]),_:1})):q("",!0),e.data.balance>0?(C(),H(v,{key:2,content:"\u8F6C\u8D26",placement:"top"},{default:l(()=>[t(p,{icon:y(he),circle:"",onClick:d,size:"mini"},null,8,["icon"])]),_:1})):q("",!0)])}}const yt=N(M(I({},wt),{props:{data:null,openTrans:null},setup:Bt}));var Dt=ne(yt,[["__scopeId","data-v-e0dcfbe4"]]);const gt=T("-"),Ct={class:"dialog-footer"},At=T("\u53D6\u6D88"),St=T("\u786E\u5B9A"),Tt=N({name:"TransferDialog"});function Et(u){const e=u,o=Y().state.currentAccount.addressMap,s=S({transferToken:"",transferAmount:"",from:"",to:"",startNo:"",endNo:""}),f=()=>{e.close(),s.value.transferToken="",s.value.transferAmount="",s.value.from="",s.value.to="",s.value.startNo="",s.value.endNo=""},a=async()=>{const{transferToken:m,transferAmount:r,from:d,startNo:c=1,endNo:_=2}=s.value;if(!m&&!r&&!d&&c&&!_){D.error("\u586B\u5199\u8F6C\u8D26\u4FE1\u606F");return}if(d==c){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(d==_){D.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u8F6C\u8D26\u5730\u5740\u7F16\u53F7");return}if(c<e.from){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.from);return}if(_>e.to){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.to);return}let p=_-c+1;const v=ke(Number(r),p,m==="BNB"?18:9),{privateKey:B}=o[d],F=new ue(le,De),k=new ee(B,ae(se));f();for(let h=c;h<=_;h++)o[h].transFerpending=!0,o[h].transFerSuccess=0;for(let h=0,z=v.length;h<z;h++){const b=c+h,{address:P}=o[b];if(m==="BNB")try{const E=await k.sendTransaction({to:P,value:v[h],chainId:97}).catch(()=>{o[b].transFerSuccess=2});o[b].transFerpending=!1,E&&(o[b].txHash=E==null?void 0:E.hash,o[b].transFerSuccess=1)}catch{o[b].transFerpending=!1,o[b].txHash=null,o[b].transFerSuccess=2}if(m==="STRAYINU")try{const E=await F.connect(k).transfer(P,v[h]).catch(()=>{o[b].transFerSuccess=2});o[b].transFerpending=!1,E&&(o[b].txHash=E==null?void 0:E.hash,o[b].transFerSuccess=1)}catch{o[b].transFerpending=!1,o[b].txHash=null,o[b].transFerSuccess=2}}};return(m,r)=>{const d=i("el-option"),c=i("el-select"),_=i("el-form-item"),p=i("el-input"),v=i("el-col"),B=i("el-form"),F=i("el-button"),k=i("el-dialog");return C(),H(k,{"before-close":f,modelValue:e.dialogvisible,"onUpdate:modelValue":r[5]||(r[5]=h=>e.dialogvisible=h),title:"\u6279\u91CF\u8F6C\u8D26",width:"42%"},{footer:l(()=>[V("span",Ct,[t(F,{onClick:f},{default:l(()=>[At]),_:1}),t(F,{type:"primary",onClick:a},{default:l(()=>[St]),_:1})])]),default:l(()=>[t(B,{"label-position":"top","label-width":"100%",model:s.value},{default:l(()=>[t(_,{label:"\u9009\u62E9\u8F6C\u8D26\u7684Token",required:""},{default:l(()=>[t(c,{"fit-input-width":"",modelValue:s.value.transferToken,"onUpdate:modelValue":r[0]||(r[0]=h=>s.value.transferToken=h),placeholder:"\u9009\u62E9\u8F6C\u8D26\u5E01\u79CD"},{default:l(()=>[t(d,{label:"BNB",value:"BNB"}),t(d,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u8F6C\u8D26\u603B\u91CF",required:""},{default:l(()=>[t(p,{modelValue:s.value.transferAmount,"onUpdate:modelValue":r[1]||(r[1]=h=>s.value.transferAmount=h),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u603B\u91D1\u989D"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u8F6C\u8D26\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(p,{modelValue:s.value.from,"onUpdate:modelValue":r[2]||(r[2]=h=>s.value.from=h),placeholder:"\u8BF7\u8F93\u5165\u8F6C\u8D26\u5730\u5740\u7F16\u53F7\uFF08\u4F8B\uFF1A\u8F93\u51650\u8868\u793A\u7528\u7B2C\u4E00\u4E2A\u5730\u5740\u8F6C\u8D26\uFF09"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u6536\u5E10\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:s.value.startNo,"onUpdate:modelValue":r[3]||(r[3]=h=>s.value.startNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(v,{span:11},{default:l(()=>[gt]),_:1}),t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:s.value.endNo,"onUpdate:modelValue":r[4]||(r[4]=h=>s.value.endNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const Nt=N(M(I({},Tt),{props:{close:null,dialogvisible:null,from:null,to:null},setup:Et})),kt=T("\xA0\xA0\xA0\xA0 "),xt={class:"dialog-footer"},Vt=T("\u53D6\u6D88"),$t=T("\u8F6C\u8D26"),It=N({name:"ModalTransferInline"});function Mt(u){const e=u,{transfer:n}=$e(),o=()=>{s()},s=()=>{e.close(),a.value={to:"",amount:""}},f=async()=>{var _,p,v,B,F;let r=Number(a.value.to),d=Number(a.value.amount),c=Number(((_=e.data)==null?void 0:_.token)==="BNB"?e.data.balance:e.data.strayInuBalance);if(!a.value.to){D.error("\u8BF7\u586B\u5199\u8F6C\u5165\u7F16\u53F7");return}if(r>1e4||r<0||Math.floor(r)!==r){D.error("\u7F16\u53F7\u8303\u56F40 ~ 10000");return}if(r===e.data.id){D.error("\u8F6C\u5165\u7F16\u53F7\u4E0D\u80FD\u548C\u5F53\u524D\u7F16\u53F7\u76F8\u540C");return}if(d<0||!d){D.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u91D1\u989D");return}if(d>c){D.error("\u4F59\u989D\u4E0D\u8DB3");return}((p=e.data)==null?void 0:p.token)==="StrayInu"?(s(),await e.strayInuTransfer((v=e.data)==null?void 0:v.id,r,Math.floor(d))):((B=e.data)==null?void 0:B.token)==="BNB"&&(s(),await n((F=e.data)==null?void 0:F.id,r,d))},a=S({to:"",amount:""}),m=de(()=>{var _,p,v,B,F,k;let r="0",d="\u8F6C\u8D26",c="\u8BF7\u8F93\u5165\u91D1\u989D";return((_=e.data)==null?void 0:_.token)==="BNB"?(r=((p=e.data)==null?void 0:p.balance)||"0",d=((v=e.data)==null?void 0:v.token)+"\u8F6C\u8D26",c="\u6700\u591A4\u4F4D\u5C0F\u6570"):((B=e.data)==null?void 0:B.token)==="StrayInu"&&(r=((F=e.data)==null?void 0:F.strayInuBalance)||"0",d=((k=e.data)==null?void 0:k.token)+"\u8F6C\u8D26",c="\u6574\u6570"),{balance:r,title:d,amountHolder:c}});return(r,d)=>{const c=i("el-form-item"),_=i("el-input"),p=i("el-form"),v=i("el-button"),B=i("el-dialog");return C(),H(B,{modelValue:e.data,"onUpdate:modelValue":d[2]||(d[2]=F=>e.data=F),"before-close":o,title:y(m).title,width:"480px"},{footer:l(()=>[V("span",xt,[t(v,{onClick:s},{default:l(()=>[Vt]),_:1}),t(v,{type:"primary",onClick:f},{default:l(()=>[$t]),_:1})])]),default:l(()=>[t(p,{model:a.value,"label-width":"100px"},{default:l(()=>[t(c,{label:"\u5F53\u524D\u7F16\u53F7"},{default:l(()=>{var F;return[V("span",null,te((F=e.data)==null?void 0:F.id),1),kt,V("span",null,"\u4F59\u989D\xA0\xA0"+te(y(xe)(y(m).balance)),1)]}),_:1}),t(c,{label:"\u8F6C\u5165\u7F16\u53F7"},{default:l(()=>[t(_,{modelValue:a.value.to,"onUpdate:modelValue":d[0]||(d[0]=F=>a.value.to=F),placeholder:"0~10000\uFF0C\u6574\u6570",type:"number"},null,8,["modelValue"])]),_:1}),t(c,{label:"\u8F6C\u8D26\u91D1\u989D"},{default:l(()=>[t(_,{modelValue:a.value.amount,"onUpdate:modelValue":d[1]||(d[1]=F=>a.value.amount=F),placeholder:y(m).amountHolder,type:"number"},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}const Ut=N(M(I({},It),{props:{data:null,close:null,strayInuTransfer:null},setup:Mt})),Rt=T("-"),Ot={class:"dialog-footer"},Ht=T("\u53D6\u6D88"),zt=T("\u786E\u5B9A"),Pt=N({name:"dialogSwapShow"});function qt(u){const e=u,o=Y().state.currentAccount.addressMap,s=S({swapToken:"STRAYINU",swapAmount:"",startNo:"",endNo:""}),f=S(),a=()=>{e.close(),s.value.swapAmount="",s.value.startNo="",s.value.endNo=""},m=()=>{a()},r=async()=>{const{swapToken:d,swapAmount:c,startNo:_=0,endNo:p=0}=s.value;if(!d&&!c&&!_&&!p){D.error("\u586B\u5199\u5151\u6362\u4FE1\u606F");return}if(p==_){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u4E0D\u80FD\u7B49\u4E8E\u7ED3\u59CB\u5730\u5740\u7F16\u53F7");return}if(_<e.from){D.error("\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E"+e.from);return}if(p>e.to){D.error("\u7ED3\u675F\u5730\u5740\u7F16\u53F7\u5FC5\u987B\u5C0F\u4E8E\u7B49\u4E8E"+e.to);return}const v=ke(c,p-_+1,18);v.forEach((F,k)=>{console.log(k+":",Ve(F.toString(),18))});const B=new ue(Ce,ye);a();for(let F=_,k=0;F<=p;F++,k++){const{privateKey:h,address:z}=o[F],b=ae(se),P=new ee(h,b),E=A.from(Math.floor(new Date().getTime()/1e3+86400)),J=[ge,le];o[F].swapPending=!0,o[F].transFerSuccess=0;try{const L=await B.connect(P).swapExactETHForTokens(0,J,z.slice(2),E,{value:v[k]}).catch(()=>{o[F].swapSuccess=2});o[F].swapPending=!1,L&&(o[F].swapHash=L==null?void 0:L.hash,o[F].swapSuccess=1)}catch{o[F].swapPending=!1,o[F].swapHash=null,o[F].swapSuccess=2}}};return(d,c)=>{const _=i("el-option"),p=i("el-select"),v=i("el-form-item"),B=i("el-input"),F=i("el-col"),k=i("el-form"),h=i("el-button"),z=i("el-dialog");return C(),H(z,{modelValue:e.dialogSwapShow,"onUpdate:modelValue":c[4]||(c[4]=b=>e.dialogSwapShow=b),"before-close":m,title:"\u6279\u91CF\u5151\u6362",width:"42%"},{footer:l(()=>[V("span",Ot,[t(h,{onClick:a},{default:l(()=>[Ht]),_:1}),t(h,{type:`
          primary`,onClick:r},{default:l(()=>[zt]),_:1})])]),default:l(()=>[t(k,{ref:(b,P)=>{P.editFrom=b,f.value=b},"label-position":"top","label-width":"100%",model:s.value},{default:l(()=>[t(v,{label:"\u9009\u62E9\u8981\u5151\u6362\u7684Token",required:""},{default:l(()=>[t(p,{"fit-input-width":"",modelValue:s.value.swapToken,"onUpdate:modelValue":c[0]||(c[0]=b=>s.value.swapToken=b),placeholder:"\u9009\u62E9Token"},{default:l(()=>[t(_,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"\u652F\u4ED8\u7684\u8F6C\u8D26\u91D1\u989D(BNB)",required:""},{default:l(()=>[t(B,{modelValue:s.value.swapAmount,"onUpdate:modelValue":c[1]||(c[1]=b=>s.value.swapAmount=b),placeholder:"\u8BF7\u8F93\u5165\u5151\u6362\u91D1\u989D(BNB)"},null,8,["modelValue"])]),_:1}),t(v,{label:"\u5151\u6362\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(F,{span:11},{default:l(()=>[t(B,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:s.value.startNo,"onUpdate:modelValue":c[2]||(c[2]=b=>s.value.startNo=b),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(F,{span:11},{default:l(()=>[Rt]),_:1}),t(F,{span:11},{default:l(()=>[t(B,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:s.value.endNo,"onUpdate:modelValue":c[3]||(c[3]=b=>s.value.endNo=b),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const Kt=N(M(I({},Pt),{props:{close:null,dialogSwapShow:null,from:null,to:null},setup:qt}));const Yt={class:"balance"},Lt={key:0},Wt=N({name:"StrayInuBalance"});function jt(u){const e=u,n=S(!1),o=async()=>{n.value=!0;try{let a=await e.getBalance(e.data.id);e.data.strayInuBalance=a.div(A.from(10).pow(9)).toString()||"0",n.value=!1}catch{e.data.strayInuBalance="0",n.value=!1}};let s=de(()=>xe(e.data.strayInuBalance));oe(async()=>{e.data.strayInuBalance===void 0&&await o()});const f=()=>{e.openTrans(e.data.id,"StrayInu")};return(a,m)=>{var c;const r=i("el-button"),d=i("el-tooltip");return C(),$("div",Yt,[y(s)?(C(),$("p",Lt,te(y(s)),1)):q("",!0),t(d,{content:"\u5237\u65B0\u4F59\u989D",placement:"top"},{default:l(()=>[t(r,{icon:y(ve),circle:"",loading:n.value,onClick:o,size:"mini"},null,8,["icon","loading"])]),_:1}),Number(((c=e.data)==null?void 0:c.strayInuBalance)||0)>0?(C(),H(d,{key:1,content:"\u8F6C\u8D26",placement:"top"},{default:l(()=>[t(r,{icon:y(he),circle:"",onClick:f,size:"mini"},null,8,["icon"])]),_:1})):q("",!0)])}}const Jt=N(M(I({},Wt),{props:{data:null,getBalance:null,openTrans:null},setup:jt}));var Gt=ne(Jt,[["__scopeId","data-v-4f00b14b"]]);const Qt=T("-"),Xt={class:"dialog-footer"},Zt=T("\u53D6\u6D88"),en=T("\u786E\u5B9A"),tn=N({name:"AssembleToken"});function nn(u){const e=u;Y().state.currentAccount.addressMap;const o=S({swapToken:"STRAYINU",swapAmount:"",startNo:"",endNo:""}),s=S(),f=()=>{e.close(),o.value.swapAmount="",o.value.startNo="",o.value.endNo=""},a=()=>{f()};return(m,r)=>{const d=i("el-option"),c=i("el-select"),_=i("el-form-item"),p=i("el-input"),v=i("el-col"),B=i("el-form"),F=i("el-button"),k=i("el-dialog");return C(),H(k,{modelValue:e.showAssemble,"onUpdate:modelValue":r[4]||(r[4]=h=>e.showAssemble=h),"before-close":a,title:"Token\u5F52\u96C6",width:"35%"},{footer:l(()=>[V("span",Xt,[t(F,{onClick:f},{default:l(()=>[Zt]),_:1}),t(F,{type:"primary"},{default:l(()=>[en]),_:1})])]),default:l(()=>[t(B,{ref:(h,z)=>{z.editFrom=h,s.value=h},"label-position":"top","label-width":"100%",model:o.value},{default:l(()=>[t(_,{label:"\u9009\u62E9\u8981\u5F52\u96C6\u7684Token",required:""},{default:l(()=>[t(c,{"fit-input-width":"",modelValue:o.value.swapToken,"onUpdate:modelValue":r[0]||(r[0]=h=>o.value.swapToken=h),placeholder:"\u9009\u62E9Token"},{default:l(()=>[t(d,{label:"BNB",value:"BNB"}),t(d,{label:"STRAYINU",value:"STRAYINU"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u63A5\u6536\u5730\u5740/\u7F16\u53F7",required:""},{default:l(()=>[t(p,{modelValue:o.value.from,"onUpdate:modelValue":r[1]||(r[1]=h=>o.value.from=h),placeholder:"\u8BF7\u8F93\u5165\u63A5\u6536\u5730\u5740/\u7F16\u53F7"},null,8,["modelValue"])]),_:1}),t(_,{label:"\u5F52\u96C6\u5730\u5740\u7F16\u53F7",required:""},{default:l(()=>[t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u8D77\u59CB\u5730\u5740\u7F16\u53F7",modelValue:o.value.startNo,"onUpdate:modelValue":r[2]||(r[2]=h=>o.value.startNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),t(v,{span:11},{default:l(()=>[Qt]),_:1}),t(v,{span:11},{default:l(()=>[t(p,{width:"300px",placeholder:"\u7ED3\u675F\u5730\u5740\u7F16\u53F7",modelValue:o.value.endNo,"onUpdate:modelValue":r[3]||(r[3]=h=>o.value.endNo=h),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}const un=N(M(I({},tn),{props:{close:null,showAssemble:null},setup:nn}));const Ie=u=>(ie("data-v-dce7f3ba"),u=u(),pe(),u),an=Ie(()=>V("br",null,null,-1)),on=T("-"),ln=T("\u751F\u6210\u5730\u5740 "),sn=T("\u6279\u91CF\u8F6C\u8D26 "),rn=T("\u6279\u91CF\u5151\u6362 "),cn=T("\u6C47\u805Atoken "),dn=Ie(()=>V("br",null,null,-1)),pn={class:"address-table-row"},_n={key:0},mn=["href"],fn={key:1,class:"error"},Fn={key:0},vn=["href"],hn={key:1,class:"error"},bn=N({name:"Address"});function wn(u){const e=S(!1),n=S(!1),o=S(!1),s=S(null),f=(x,g)=>{s.value=M(I({},v[x]),{token:g})},a=()=>{s.value=null},m=Y(),{toClipboard:r}=Qe(),d=m.state.currentAccount.mnemonic,c=S(0),_=S(19),p=S([]),v=m.state.currentAccount.addressMap,B=S(!1),{getBalance:F,transfer:k}=vt(),h=()=>{let x=c.value,g=_.value;if(!(x!==""&&x>=0&&g>=0&&x<=g)){D.error(x>g?"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7F16\u53F7\u8303\u56F4":"\u7F16\u53F7\u8303\u56F4 0~10000");return}const W=()=>{const K=ut.fromMnemonic(d);return new Promise((G,Q)=>{try{let R=[];for(let j=x;j<=g;j++){let re=Ee(j),O=v[j];if(!O){let X=K.derivePath(re);O={id:j,address:X.address,privateKey:X.privateKey},m.commit("updateAddressMap",O)}R.push(O)}G(R)}catch(R){Q(R)}})};B.value=!0,setTimeout(()=>{W().then(K=>{p.value=K,E.value=1}).finally(()=>{B.value=!1})},200)};oe(()=>{h()});const z=x=>{parseInt(x)>=1e4&&(c.value=1e4)},b=x=>{parseInt(x)>=1e4&&(_.value=1e4)},P=async(x,g)=>{const W=m.state.currentAccount.addressMap[g];if(W)try{await r(x===0?W.privateKey:W.address),D.success("\u5DF2\u590D\u5236")}catch{D.success("\u590D\u5236\u5931\u8D25")}else D.success("\u590D\u5236\u5931\u8D25")},E=S(1),J=S(20),L=x=>{J.value=x},Me=x=>{E.value=x},Ue=()=>{e.value=!1},Re=()=>{n.value=!1},Oe=()=>{o.value=!1};return(x,g)=>{const W=i("el-alert"),K=i("el-input"),G=i("el-form-item"),Q=i("el-col"),R=i("el-button"),j=i("el-row"),re=i("el-form"),O=i("el-table-column"),X=i("el-tooltip"),He=i("el-table"),ze=i("el-pagination"),Pe=Xe("loading");return C(),$(we,null,[t(W,{title:"\u5F53\u524D\u4E3A\u6D4B\u8BD5\u73AF\u5883(Binance Smart Chain Testnet)",type:"warning",closable:!1}),an,t(re,{ref:(w,ce)=>{ce.form=w},"label-width":"120px"},{default:l(()=>[t(G,{label:"\u52A9\u8BB0\u8BCD"},{default:l(()=>[t(K,{modelValue:y(d),"onUpdate:modelValue":g[0]||(g[0]=w=>et(d)?d.value=w:null),disabled:"",placeholder:"\u52A9\u8BB0\u8BCD"},null,8,["modelValue"])]),_:1}),t(G,{label:"\u7F16\u53F7\u8303\u56F4"},{default:l(()=>[t(Q,{span:11},{default:l(()=>[t(K,{modelValue:c.value,"onUpdate:modelValue":g[1]||(g[1]=w=>c.value=w),modelModifiers:{number:!0},width:"100px",onInput:z},null,8,["modelValue"])]),_:1}),t(Q,{span:11},{default:l(()=>[on]),_:1}),t(Q,{span:11},{default:l(()=>[t(K,{modelValue:_.value,"onUpdate:modelValue":g[2]||(g[2]=w=>_.value=w),modelModifiers:{number:!0},width:"100px",onInput:b},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(j,null,{default:l(()=>[t(R,{type:"primary",onClick:h,disabled:B.value},{default:l(()=>[ln]),_:1},8,["disabled"]),t(R,{disabled:p.value.length===0||B.value,type:"primary",onClick:g[3]||(g[3]=w=>n.value=!0)},{default:l(()=>[sn]),_:1},8,["disabled"]),t(R,{type:"primary",disabled:p.value.length===0||B.value,onClick:g[4]||(g[4]=w=>e.value=!0)},{default:l(()=>[rn]),_:1},8,["disabled"]),t(R,{disabled:"",type:"primary",onClick:g[5]||(g[5]=w=>o.value=!0)},{default:l(()=>[cn]),_:1})]),_:1})]),_:1})]),_:1},512),dn,Ze(t(He,{data:p.value.slice((E.value-1)*J.value,E.value*J.value),class:"address-table"},{default:l(()=>[t(O,{prop:"id",label:"\u5730\u5740\u7F16\u53F7",width:"90"}),t(O,{label:"\u5730\u5740",width:"500px"},{default:l(w=>[V("div",pn,[V("p",null,te(w.row.address),1),t(X,{content:"\u590D\u5236\u5730\u5740",placement:"top"},{default:l(()=>[t(R,{icon:y(tt),circle:"",onClick:ce=>P(1,w.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024),t(X,{content:"\u590D\u5236\u79C1\u94A5",placement:"top"},{default:l(()=>[t(R,{icon:y(nt),circle:"",onClick:ce=>P(0,w.row.id),size:"mini"},null,8,["icon","onClick"])]),_:2},1024)])]),_:1}),t(O,{label:"BNB\u4F59\u989D",width:"300px"},{default:l(w=>[t(Dt,{data:w.row,key:w.row.address,openTrans:f},null,8,["data"])]),_:1}),t(O,{label:"StrayInu\u4F59\u989D",width:"240px"},{default:l(w=>[t(Gt,{data:w.row,key:w.row.address,getBalance:y(F),openTrans:f},null,8,["data","getBalance"])]),_:1}),t(O,null,{default:l(w=>[w.row.transFerpending?(C(),$("div",_n," \u8F6C\u8D26\u4E2D... ")):q("",!0),V("div",null,[w.row.transFerSuccess===1?(C(),$("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+w.row.txHash,target:"_blank"},"\u8F6C\u8D26\u6210\u529F",8,mn)):w.row.transFerSuccess===2?(C(),$("a",fn,"\u8F6C\u8D26\u5931\u8D25")):q("",!0)])]),_:1}),t(O,null,{default:l(w=>[w.row.swapPending?(C(),$("div",Fn," \u5151\u6362\u4E2D... ")):q("",!0),V("div",null,[w.row.swapSuccess===1?(C(),$("a",{key:0,class:"success",href:"https://testnet.bscscan.com/tx/"+w.row.swapHash,target:"_blank"},"\u5151\u6362\u6210\u529F",8,vn)):w.row.swapSuccess===2?(C(),$("a",hn,"\u5151\u6362\u5931\u8D25")):q("",!0)])]),_:1})]),_:1},8,["data"]),[[Pe,B.value]]),t(Nt,{dialogvisible:n.value,close:Re,from:c.value,to:_.value},null,8,["dialogvisible","from","to"]),t(ze,{class:"pagination",align:"right",layout:"prev, pager, next, jumper, total, sizes",onSizeChange:L,onCurrentChange:Me,"current-page":E.value,"page-sizes":[20,50,100],"page-size":J.value,total:p.value.length},null,8,["current-page","page-size","total"]),t(Kt,{dialogSwapShow:e.value,close:Ue,from:c.value,to:_.value},null,8,["dialogSwapShow","from","to"]),t(Ut,{data:s.value,close:a,strayInuTransfer:y(k)},null,8,["data","strayInuTransfer"]),t(un,{showAssemble:o.value,close:Oe},null,8,["showAssemble"])],64)}}const Bn=N(M(I({},bn),{setup:wn}));var yn=ne(Bn,[["__scopeId","data-v-dce7f3ba"]]);const Dn=u=>(ie("data-v-743c4f7a"),u=u(),pe(),u),gn={class:"add"},Cn=T("\u5BFC\u5165 "),An=Dn(()=>V("br",null,null,-1)),Sn=T("\u5DF2\u6FC0\u6D3B "),Tn=T("\u6FC0\u6D3B "),En=N({name:"Account"});function Nn(u){const e=S(""),n=Y(),o=()=>{let f=e.value.trim();if(f){let a=mt(f);a?n.dispatch("addAccount",{id:a,mnemonic:f}).then(()=>{D.success("\u5BFC\u5165\u6210\u529F"),e.value=""}):D.error("\u52A9\u8BB0\u8BCD\u65E0\u6548")}else D.error("\u8BF7\u586B\u5165\u52A9\u8BB0\u8BCD")},s=f=>{n.commit("selectAccount",f)};return(f,a)=>{const m=i("el-input"),r=i("el-button"),d=i("el-table-column"),c=i("el-table");return C(),$(we,null,[V("div",gn,[t(m,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=_=>e.value=_),placeholder:"\u8F93\u5165\u52A9\u8BB0\u8BCD"},null,8,["modelValue"]),t(r,{type:"primary",onClick:o},{default:l(()=>[Cn]),_:1})]),An,t(c,{data:y(n).state.accounts,style:{width:"100%"}},{default:l(()=>[t(d,{prop:"mnemonic",label:"\u5DF2\u5BFC\u5165\u52A9\u8BB0\u8BCD"}),t(d,{width:"180",align:"right"},{default:l(_=>[_.row.id===y(n).state.currentAccount.id?(C(),H(r,{key:0,type:"primary",class:"btn",size:"small"},{default:l(()=>[Sn]),_:1})):(C(),H(r,{key:1,onClick:p=>s(_.row.id),class:"btn",size:"small"},{default:l(()=>[Tn]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])],64)}}const kn=N(M(I({},En),{setup:Nn}));var xn=ne(kn,[["__scopeId","data-v-743c4f7a"]]),U;(function(u){u.HOME="HOME",u.ADDRESS="ADDRESS",u.ACCOUNT="ACCOUNT"})(U||(U={}));const Vn=[{path:"/",name:U.HOME,redirect:{name:U.ADDRESS}},{path:"/address",name:U.ADDRESS,component:yn},{path:"/account",name:U.ACCOUNT,component:xn}],_e=at({history:ot(),routes:Vn});_e.beforeEach(u=>{var e;return u.name===U.ADDRESS&&!((e=Te().accounts)==null?void 0:e.length)?(be.alert("\u60A8\u8FD8\u6CA1\u6709\u5BFC\u5165\u52A9\u8BB0\u8BCD\uFF0C\u73B0\u5728\u5BFC\u5165\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",showClose:!1,callback:()=>{_e.push({name:U.ACCOUNT})}}),!1):!0});const me=u=>(ie("data-v-e8f6cefc"),u=u(),pe(),u),$n={class:"sidebar"},In=me(()=>V("h1",null,"\u{1F436} StrayInu",-1)),Mn=me(()=>V("p",null,"\u5730\u5740\u96C6",-1)),Un=me(()=>V("p",null,"\u7BA1\u7406\u52A9\u8BB0\u8BCD",-1)),Rn=N({name:"Sidebar"});function On(u){const e=lt(),n=S("");e.afterEach(s=>{n.value=s.name});const o=s=>{e.push({name:s})};return(s,f)=>{const a=i("el-icon"),m=i("el-menu-item"),r=i("el-menu");return C(),$("div",$n,[In,t(r,{class:"nav",onSelect:o,"background-color":"transparent","text-color":"#fff"},{default:l(()=>[t(m,{index:y(U).ADDRESS,class:Be({"is-active":n.value===y(U).ADDRESS})},{default:l(()=>[t(a,null,{default:l(()=>[t(y(st))]),_:1}),Mn]),_:1},8,["index","class"]),t(m,{index:y(U).ACCOUNT,class:Be({"is-active":n.value===y(U).ACCOUNT})},{default:l(()=>[t(a,null,{default:l(()=>[t(y(rt))]),_:1}),Un]),_:1},8,["index","class"])]),_:1})])}}const Hn=N(M(I({},Rn),{setup:On}));var zn=ne(Hn,[["__scopeId","data-v-e8f6cefc"]]);const Pn=N({setup(u){const e=Y();return oe(()=>{if(e.state.accounts.length){const n=e.state.currentAccountId||e.state.accounts[0].id;e.commit("selectAccount",n)}}),(n,o)=>{const s=i("el-aside"),f=i("router-view"),a=i("el-main"),m=i("el-container");return C(),H(m,{class:"wrapper"},{default:l(()=>[t(s,{class:"asaid"},{default:l(()=>[t(zn)]),_:1}),t(a,{class:"main"},{default:l(()=>[t(f)]),_:1})]),_:1})}}}),{accounts:qn,currentAccountId:Kn}=Te(),Yn={accounts:qn||[],currentAccount:void 0,currentAccountId:Kn,walletAddrs:[]};var Ln=ct({state(){return Yn},mutations:{addAccount(u,e){let n=!1;u.accounts.forEach(({id:o})=>{o===e.id&&(n=!0)}),n||(u.accounts.push(e),Se({accounts:u.accounts,currentAccountId:u.currentAccountId}))},selectAccount(u,e){let n=u.accounts[0];u.accounts.forEach(o=>{o.id===e&&(n=o)}),n&&(u.currentAccount=M(I({},n),{addressMap:{}}),Se({accounts:u.accounts,currentAccountId:n.id}))},updateAddressMap(u,e){u.currentAccount&&(u.currentAccount.addressMap[e.id]=e)},addWalletAddrs(u,e){e&&e.length>0&&(u.walletAddrs=[...e])}},actions:{addAccount(u,e){u.commit("addAccount",e),u.state.currentAccount||u.commit("selectAccount",e.id)}}});dt(Pn).use(it).use(Ln).use(_e).mount("#app");
